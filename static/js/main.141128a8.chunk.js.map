{"version":3,"sources":["graph-builder/graph-actions.js","graph-builder/graph-core/3-component.js","graph-builder/graph-core/2-canvas.js","graph-builder/graph-core/1-core.js","graph-builder/local-storage-manager.js","component/ZoomSetter.jsx","graph-builder/graphml/parser/PropFromArr.js","graph-builder/graphml/parser/parseProperties.js","graph-builder/graphml/parser/index.js","toolbarActions/toolbarFunctions.js","component/TabBar.jsx","graph-builder/graphml/builder/nodeML.js","graph-builder/graphml/builder/graphML.js","graph-builder/graphml/builder/edgeML.js","graph-builder/graphml/builder/index.js","graph-builder/graph-core/index.js","graph-builder/graph-core/6-server.js","graph-builder/graph-core/5-load-save.js","graph-builder/graph-core/4-undo-redo.js","graph-builder/calculations/boundary-point.js","graph-builder/index.js","graph-builder/tailored-graph-builder.js","GraphArea.jsx","config/defaultValidators.js","GraphWorkspace.jsx","component/modals/ParentModal.jsx","component/modals/GraphCompDetails.jsx","toolbarActions/toolbarList.js","component/HeaderComps.jsx","component/Header.jsx","component/modals/ProjectDetails.jsx","component/modals/ShareModal.jsx","component/CodeEdit.jsx","component/modals/Settings.jsx","component/File-drag-drop.jsx","component/modals/History.jsx","component/fileBrowser.jsx","component/modals/FileEdit.jsx","component/modals/markDown.jsx","component/modals/OptionsModal.jsx","component/Logs.jsx","component/modals/ContributeDetails.jsx","App.jsx","serviceWorkerRegistration.js","reportWebVitals.js","index.jsx","graph-builder/calculations/bending-dist-weight.js","config/cytoscape-style.js","config/cytoscape-options.js","reducer/actionType.js","component/modals/NodeDetails.jsx","component/modals/EdgeDetails.jsx","config/defaultStyles.js","reducer/initialState.js","reducer/reducer.js"],"names":["ADD_NODE","ADD_EDGE","UPDATE_NODE","UPDATE_EDGE","UPDATE_DATA","DEL_NODE","DEL_EDGE","SET_POS","SET_DIM","SET_BENDW","GraphComponent","args","nodeValidator","edgeValidator","setEdgeNodeValidator","getTid","Date","getTime","allNodes","this","cy","$","start","x","y","found","i","length","nodePos","position","label","style","type","getPos","data","id","tid","node","add","group","addAction","actionName","GA","parameters","sourceID","targetID","getById","edgesWith","edges","getEdgesBetweenNodes","dists","Set","forEach","edge","target","bendDistance","d","has","bendWeight","bendPoint","BendingDistanceWeight","getWeightDistance","w","getBendingD","edgeData","bendData","parseBendinDW","source","addEdgeWithLabel","dispatcher","T","Model_Open_Create_Edge","cb","edgeLabel","edgeStyle","message","validiateEdge","ok","shouldUpdateLabel","getStyle","key","val","connectedEdges","deleteEdge","json","remove","removed","jsonEd","isNode","deleteNode","pos","emit","dim","height","width","setPos","toString","indexOf","lastIndexOf","a","b","slice","trim","eval","map","sourceLabel","getRealSourceId","targetLabel","comp","validator","getNodesEdges","nodes","undefined","err","e","validiateComp","GraphCanvas","reset","center","SET_ZOOM_LEVEL","payload","getZoom","removeListener","setZoomUI","on","Math","round","zoom","fit","v","elements","window","confirm","el","deleteElem","CHANGE_RESET","element","superState","projectName","authorName","cytoscape","use","edgehandles","nodeEditing","Konva","gridGuide","cyOptions","container","bendNode","classes","registerEvents","initizialize","resizeToContentCueEnabled","setWidth","setHeight","isNoResizeMode","isNoControlsMode","snapToGridOnRelease","zoomDash","panGrid","preview","handlePosition","handleNodes","complete","c","addEdge","getElementById","shouldEmit","SET_PROJECT_DETAILS","value","graphID","SET_AUTHOR","serverID","els","ELE_UNSELECTED","every","isEdge","ids","ELE_SELECTED","selectDeselectEventHandler","scratch","addClass","evt","ev","hasClass","CoreGraph","getBendEdgePoint","DW","addBendChange","removeClass","resetAllComp","resetAllAction","parseFloat","getCoordinate","ALL_GRAPHS","localStorageManager","btoa","AUTHOR_NAME","allgs","localStorage","getItem","setItem","JSON","stringify","parse","atob","saveAllgs","Array","from","addEmptyIfNot","get","save","graphContent","addGraph","serializedJson","delete","removeItem","getAllGraphs","addToFront","Garr","unshift","getAuthorName","setAuthorName","clearGraph","getFileList","minZoom","GraphOption","maxZoom","marks","ZoomComp","myGraph","curGraphInstance","zoomValue","zoomLevel","className","role","tabIndex","onClick","resetZoom","onKeyDown","fitZoom","min","max","onChange","setZoom","included","PropFromArr","obj","arr","flatenArr","flatArr","constructor","o","push","p","filter","Object","keys","s","t","propFromArr","split","property","any","S","A","F","mapByDefault","def","includes","parseNode","parseProps","opacity","parseInt","shape","backgroundColor","borderColor","borderWidth","parseEdge","thickness","parseActionML","parser","graphMlCnt","Promise","resolve","xml2js","Parser","parseString","grahMLObj","grahML","parseDetails","actionHistory","equivalent","inverse","parseActionHistory","getGraphFun","createNode","state","setState","Model_Open_Create_Node","validiateNode","addNode","editElement","eleSelectedPayload","Model_Open_Update_Node","retMessage","updateNode","labelAllowed","getLabel","Model_Open_Update_Edge","updateEdge","downloadImg","format","saveGraphMLFile","graph","graphs","curGraphIndex","fileHandle","createWritable","stream","write","saveToFolder","close","toast","success","info","saveWithoutFileHandle","readFile","file","fr","FileReader","name","pop","onload","result","then","ADD_GRAPH","graphML","fileName","getFile","readAsText","readTextFile","EDIT_TEXTFILE","show","fileObj","createFile","newProject","NEW_GRAPH","clearAll","contribute","SET_CONTRIBUTE_MODAL","resetAfterClear","toggleLogs","SET_LOGS","logs","undo","redo","viewHistory","SET_HISTORY_MODAL","TabBar","closeTab","stopPropagation","REMOVE_GRAPH","SET_CUR_INSTANCE","SET_CUR_INDEX","editCur","SET_EDIT_DETAILS_MODAL","React","useEffect","hotkeys","event","preventDefault","document","click","querySelector","bind","data-tip","size","CHANGE_TAB","data-for","place","effect","nodeML","posX","posY","color","graphml","xmlns","for","edgedefault","edgeML","lineColor","lineWidth","configuration","sx","sy","tx","ty","builder","G","edg","X","Builder","buildObject","GraphServer","config","setServerID","IS_WORKFLOW_ON_SERVER","Boolean","toastId","autoClose","Axios","post","uploadedDirName","unlockCheck","dockerCheck","maxTime","params","octave","res","SET_FUNCTIONS","built","ran","debugged","cleared","stopped","destroyed","SET_LOGS_MESSAGE","logsmessage","output","dismiss","catch","error","library","autoSaveIntervalId","saveLocalStorage","saveAs","png","full","getName","jpg","nodeID","edgeID","shouldNodeBeSaved","all","nodeJson","shouldEdgeBeSaved","edgeJson","actionArr","hash","GraphLoadSave","stringifyAction","str","graphmlBuilder","jsonifyGraph","bytes","TextEncoder","encode","blob","Blob","navigator","userAgent","options","types","description","accept","showSaveFilePicker","handle","fileData","fS","fileState","concat","modified","lastModified","SET_FILE_STATE","prompt","match","SET_FILE_HANDLE","content","parseAction","setProjectName","setProjectAuthor","clearTimeout","setTimeout","graphMLParser","graphObject","loadGraphFromLocalStorage","loadJson","props","methodsMapped","updateData","setDim","setBendWightDist","curActionIndex","SET_UNDO","SET_REDO","prevPos","curPos","prevDim","curDim","prevDW","curDW","splice","actionIdentity","GraphUndoRedo","sequencify","md5","at","informUI","performAction","curTid","limit","addPositionChange","addDimensionChange","r","sort","k","boundaryPoint","getEq","P1","P2","m","getX1X2","Cn","P","h","B","C","D","getY1Y2","x1","x2","dist","getClosestEllipse","y1","y2","slope","setSubQ","S1","S2","getClosestRect","abs","Infinity","TailoredGraphBuilder","connectedNodes","juncNode","TailoredGraph","calJuncNodePos","juncNodeId","incomers","unselectify","ed","sourceNode","targetNode","sourceNodeStyle","juncNodePos","getBoundaryPoint","ungrabify","addAutoMove","addEdgeWithJuncNode","tidd","juncNodes","outgoers","addEdgeWithoutJuncNode","addEdgeAction","junctionNode","n1","n2","n","union","c1","c2","values","parNode","meanNbrPosition","setOfPos","posStr","Graph","graphContainerRef","active","useState","instance","setInstance","ref","useRef","setContainerDim","elToAss","current","offsetWidth","offsetHeight","set","setCurStatus","addEventListener","MyGraph","forcePullFromServer","setGraphML","initialiseNewGraph","zIndex","display","GraphComp","allSavedGs","ADD_GRAPH_BULK","flex","flexDirection","background","ReactModal","setAppElement","Modal","closeModal","ModelOpen","title","children","curClass","setCurClass","isOpen","setIsOpen","stid","setStid","contentLabel","overlayClassName","aria-hidden","ModalComp","setData","errorMessage","setErrorMessage","setElement","editSourceClicked","setEditSourceClicked","createSourceClicked","setCreateSourceClicked","createHelpClicked","setCreateHelpClicked","modalPayload","submitText","Children","defaultStyle","defaultLabel","submit","openMarkDownDoc","SET_MARKDOWN_MODAL","docname1","matchingElement","find","ele","SET_INPUT_FILE","fname","ParentModal","onSubmit","docname2","toolbarList","text","icon","FaPlus","action","visibility","hotkey","FaPencilAlt","FaFileImport","FaSave","saveToDisk","saveAction","FaThermometerEmpty","resetEnabled","FaTrashRestore","FaUndo","undoEnabled","FaRedo","redoEnabled","FaEdit","eleSelected","FaTrash","FaHistory","FaTerminal","isWorkflowOnServer","FaToggleOn","FiToggleLeft","toggleServer","FaCogs","SET_OPTIONS_MODAL","FaHammer","build","FaBug","debug","FiPlay","run","FaRegTimesCircle","clear","FiStopCircle","stop","FaBomb","destroy","FiTriangle","FaDownload","fn","DropDown","Icon","menuButton","FileUploader","fileRef","Switcher","checked","ActionButton","fontSize","Vsep","Hsep","Space","Header","actions","replace","substring","handler","shortcut","setHotKeys","ProjectDetails","curGraph","inputRef","useCallback","focus","newGraphModal","editDetailsModal","authorNameE","openExisting","NewWorkflow","SET_NEW_GRAPH_MODAL","placeholder","required","ShareModal","serializedGraph","setSerializedGraph","copyText","setCopyText","cond","shareModal","serializeGraph","link","location","protocol","host","pathname","SET_SHARE_MODAL","readOnly","clipboard","writeText","getElementsByClassName","select","CodeEdit","pre","docString","createRef","spellCheck","data-gramm_editor","SettingsModal","setNodeValidator","setEdgeValidator","getNodeValidator","getEdgeValidator","settingsModal","SET_SETTING_MODAL","app","SET_FILE_REF","getElementsByTagName","cc","classList","dragEvent","dataTransfer","files","HistoryModal","curState","setcurState","historyList","setHistoryList","historyView","setHistoryView","mapActionToTrue","filterAction","setFilterAction","getLabelFromID","reverse","stringifyActionType","prefixTid","index","DT","date","toLocaleDateString","time","toLocaleTimeString","tempCurState","undoSingleAction","redoSingleAction","restoreState","fontWeight","par","htmlFor","listStyleType","LocalFileBrowser","dirButton","setDirButton","setFileState","handleFileInDirs","topKey","topLevel","entries","valueSubDir","kind","newFeature","showDirectoryPicker","dirHandle","SET_DIR_NAME","newFeatureFile","pickerOpts","excludeAcceptAllOption","multiple","showOpenFilePicker","webkitRelativePath","directory","webkitdirectory","disabled","onSelectFile","alert","foundi","g","detailRenderer","fileRenderer","FileRenderers","TableFile","folderRenderer","FolderRenderers","TableFolder","FileEditModal","codeStuff","setCodeStuff","setFileName","saveAsSubmit","saveSubmit","newFileName","textFileModal","onValueChange","highlight","code","fileEx","languages","verilog","cpp","python","matlab","bash","plaintext","highlightSyntax","padding","fontFamily","minHeight","minWidth","border","MarkDown","inputFile","markDownModal","inputFileName","OptionsModal","unlock","setUnlock","docker","setDocker","setOctave","param","setParam","maxT","setmaxT","setLibrary","SET_OPTIONS","optionsModal","handleMaxtimeChange","handleLibraryChange","cols","rows","handleParamsChange","Logs","setOutput","line","ContributeDetails","study","setStudy","path","setPath","auth","setAuth","setTitle","desc","setDesc","branch","setBranch","showAdvanceOptions","setShowAdvanceOptions","loading","axios","response","status","contributeModal","useReducer","reducer","initialState","onbeforeunload","returnValue","Settings","History","FileEdit","GraphCompDetails","Model_Close","overflow","GraphWorkspace","pauseOnHover","hostname","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","serviceWorker","ready","registration","unregister","console","rotate","Q","cos","sin","extraRad","PI","getRadian","tanQ","atan","selector","overlayOpacity","textValign","textHalign","curveStyle","targetArrowShape","targetArrowColor","segmentDistances","segmentWeights","edgeDistances","lineStyle","edgeTextRotation","textBackgroundOpacity","textBackgroundColor","textBackgroundShape","textBorderColor","textBorderWidth","textBorderOpacity","borderOpacity","overlayColor","overlayPadding","zoomingEnabled","userZoomingEnabled","zealit","require","$$typeof","TURN_DRAW","SET_ZOOM","ADD_GRAPH_INSTANCE","NodeDetails","textRef","widthSet","mdList","setMdList","Map","mdCont","setMdCont","labelName","setLabelName","labelFile","setLabelFile","indexOfFile","list","mdmap","prop","borderRadius","lname","item","some","matchingFile","Triangle","EqTriangle","borderLeft","borderBottom","borderTop","marginLeft","EdgeDetails","borderBottomWidth","borderBottomColor","borderBottomStyle","NodeStyle","EdgeStyle","drawModeOn","initialGraphState","component","newState"],"mappings":"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","file":"static/js/main.141128a8.chunk.js","sourcesContent":["export default {\n    ADD_NODE: 'ADD_NODE',\n    ADD_EDGE: 'ADD_EDGE',\n    UPDATE_NODE: 'UPDATE_NODE',\n    UPDATE_EDGE: 'UPDATE_EDGE',\n    UPDATE_DATA: 'UPDATE_DATA',\n    DEL_NODE: 'DEL_NODE',\n    DEL_EDGE: 'DEL_EDGE',\n    SET_POS: 'SET_POS',\n    SET_DIM: 'SET_DIM',\n    SET_BENDW: 'SET_BENDW',\n};\n","import BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport GA from '../graph-actions';\nimport { actionType as T } from '../../reducer';\nimport GraphCanvas from './2-canvas';\n\nclass GraphComponent extends GraphCanvas {\n    getTid;\n\n    nodeValidator;\n\n    edgeValidator;\n\n    addAction;\n\n    getRealSourceId;\n\n    constructor(...args) {\n        super(...args);\n        const [,,,,, nodeValidator, edgeValidator] = args;\n        this.setEdgeNodeValidator({ nodeValidator, edgeValidator });\n        this.getTid = () => new Date().getTime();\n    }\n\n    getPos() {\n        const allNodes = this.cy.$('node');\n        const start = { x: 100, y: 100 };\n        let found = true;\n        while (found) {\n            found = false;\n            for (let i = 0; i < allNodes.length; i += 1) {\n                const nodePos = allNodes[i].position();\n                found = found || (nodePos.x === start.x && nodePos.y === start.y);\n            }\n            if (found) {\n                start.x += 10;\n                start.y += 10;\n            }\n        }\n        return start;\n    }\n\n    addNode(label, style, type = 'ordin', position = this.getPos(),\n        data = {}, id, tid = this.getTid()) {\n        const node = this.cy.add({\n            group: 'nodes',\n            data: {\n                ...data, id, label, type, style,\n            },\n            position,\n        });\n        this.addAction(\n            { actionName: GA.DEL_NODE, parameters: [node.id()] },\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [label, style, type, position, data, node.id()],\n            },\n            tid,\n        );\n        return node;\n    }\n\n    getEdgesBetweenNodes(sourceID, targetID) {\n        return this.getById(sourceID).edgesWith(this.getById(targetID));\n    }\n\n    getBendingD(sourceID, targetID) {\n        const edges = this.getEdgesBetweenNodes(sourceID, targetID);\n        const dists = new Set();\n        edges.forEach((edge) => {\n            if (targetID === edge.target().id()) dists.add(edge.data('bendData').bendDistance);\n            else dists.add(-edge.data('bendData').bendDistance);\n        });\n        for (let d = 0; ;d += 20) {\n            if (!dists.has(d)) return d;\n            if (!dists.has(-d)) return -d;\n        }\n    }\n\n    parseBendinDW({\n        sourceID, targetID, type, bendWeight, bendDistance, bendPoint,\n    }) {\n        if (type !== 'ordin') return { bendDistance: 0, bendWeight: 0 };\n        if (bendDistance && bendWeight) return { bendDistance, bendWeight };\n        if (bendPoint) {\n            const { x, y } = bendPoint;\n            const { d, w } = BendingDistanceWeight.getWeightDistance(\n                { x, y }, this.getById(sourceID).position(), this.getById(targetID).position(),\n            );\n            return { bendDistance: d, bendWeight: w };\n        }\n        return { bendDistance: this.getBendingD(sourceID, targetID), bendWeight: 0.5 };\n    }\n\n    addEdgeWithLabel(edgeData, tid = this.getTid()) {\n        const { type = 'ordin' } = edgeData;\n        const bendData = this.parseBendinDW({ ...edgeData, ...edgeData.bendData });\n        const edge = this.cy.add({\n            group: 'edges',\n            data: {\n                ...edgeData, source: edgeData.sourceID, target: edgeData.targetID, type, bendData,\n            },\n        });\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [edge.id()] },\n            { actionName: GA.ADD_EDGE, parameters: [{ ...edgeData, id: edge.id() }] },\n            tid,\n        );\n\n        return edge;\n    }\n\n    addEdge(edgeData, tid = this.getTid()) {\n        if ((edgeData.type && edgeData.type !== 'ordin') || edgeData.label) {\n            return this.addEdgeWithLabel({ ...edgeData, type: edgeData.type || 'ordin' }, tid);\n        }\n        this.dispatcher({\n            type: T.Model_Open_Create_Edge,\n            cb: (edgeLabel, edgeStyle) => {\n                const message = this.validiateEdge(edgeLabel, edgeStyle,\n                    edgeData.targetID, edgeData.targetID, null, 'New');\n                if (message.ok) this.addEdgeWithLabel({ ...edgeData, type: edgeData.type || 'ordin' }, tid);\n                return message;\n            },\n        });\n        return undefined;\n    }\n\n    getStyle(id) {\n        return this.getById(id).data('style');\n    }\n\n    getLabel(id) {\n        return this.getById(id).data('label') || this.getById(id).data('label');\n    }\n\n    updateNode(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_NODE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_NODE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        if (shouldUpdateLabel) this.getById(id).data('label', label);\n        this.getById(id).data('style', style);\n    }\n\n    updateData(id, key, val, tid = this.getTid()) {\n        this.addAction(\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, this.getById(id).data(key)] },\n            { actionName: GA.UPDATE_DATA, parameters: [id, key, val] }, tid,\n        );\n        this.getById(id).data(key, val);\n        return this;\n    }\n\n    deleteNode(id, tid = this.getTid()) {\n        const node = this.getById(id);\n        node.connectedEdges('[type=\"ordin\"]').forEach((edge) => this.deleteEdge(edge.id(), tid));\n        node.connectedEdges().forEach((edge) => this.deleteEdge(edge.id(), tid));\n        this.addAction(\n            {\n                actionName: GA.ADD_NODE,\n                parameters: [\n                    node.data('label'), this.getStyle(node.id()), node.data('type'),\n                    node.position(), node.json().data, id,\n                ],\n            },\n            { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n        );\n        node.remove();\n    }\n\n    deleteEdge(id, tid = this.getTid()) {\n        if (this.getById(id).length === 0 || this.getById(id).removed()) return;\n        const jsonEd = this.getById(id).json();\n        this.addAction(\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [{\n                    ...jsonEd.data, sourceID: jsonEd.data.source, targetID: jsonEd.data.target,\n                }],\n            },\n            { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n        );\n        this.getById(id).remove();\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        if (this.getById(id).isNode()) return this.deleteNode(id, tid);\n        return this.deleteEdge(id, tid);\n    }\n\n    setPos(id, pos) {\n        this.getById(id).position(pos);\n        this.getById(id).emit('moved');\n    }\n\n    setDim(id, dim, pos) {\n        const style = this.getById(id).data('style');\n        this.getById(id).data('style', { ...style, height: dim.height, width: dim.width });\n        this.setPos(id, pos);\n    }\n\n    getNodeValidator() {\n        const [a, b] = [this.nodeValidator.toString().indexOf('{'), this.nodeValidator.toString().lastIndexOf('}')];\n        return this.nodeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    getEdgeValidator() {\n        const [a, b] = [this.edgeValidator.toString().indexOf('{'), this.edgeValidator.toString().lastIndexOf('}')];\n        return this.edgeValidator.toString().slice(a + 1, b).trim();\n    }\n\n    setEdgeNodeValidator({ nodeValidator, edgeValidator }) {\n        // eslint-disable-next-line no-eval\n        this.nodeValidator = eval(nodeValidator);\n        // eslint-disable-next-line no-eval\n        this.edgeValidator = eval(edgeValidator);\n    }\n\n    getNodesEdges() {\n        const nodes = this.cy.$('node[type=\"ordin\"]').map((node) => ({\n            label: node.data('label'),\n            style: node.data('style'),\n            id: node.data('id'),\n        }));\n        const edges = this.cy.$('edge[type=\"ordin\"]').map((edge) => ({\n            label: edge.data('label'),\n            sourceLabel: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n            targetLabel: edge.target().data('label'),\n            style: edge.data('style'),\n            id: edge.data('id'),\n        }));\n        return [nodes, edges];\n    }\n\n    validiateComp(comp, validator, type) {\n        const [nodes, edges] = this.getNodesEdges();\n        try {\n            const message = validator(comp, nodes, edges, type);\n            if (message && message.ok !== undefined && message.err !== undefined) return message;\n            return { ok: false, err: 'Invalid return format from the defined validator.' };\n        } catch (e) {\n            return { ok: false, err: `Error raised at validator: ${e.message}` };\n        }\n    }\n\n    validiateNode(label, style, id, type) {\n        if (id) {\n            const node = this.getById(id);\n            return this.validiateComp({\n                label: label || node.data('label'),\n                style: style || node.data('style'),\n                id,\n            }, this.nodeValidator, type);\n        }\n        return this.validiateComp({ label, style, id }, this.nodeValidator, type);\n    }\n\n    validiateEdge(label, style, sourceID, targetID, id, type) {\n        if (id) {\n            const edge = this.getById(id);\n            return this.validiateComp({\n                label: label || edge.data('label'),\n                style: style || edge.data('style'),\n                sourceLabel: this.getById(this.getRealSourceId(edge.source().id())).data('label'),\n                targetLabel: edge.target().data('label'),\n                id,\n            }, this.edgeValidator, type);\n        }\n        return this.validiateComp({\n            label,\n            style,\n            sourceLabel: this.getById(this.getRealSourceId(sourceID)).data('label'),\n            targetLabel: this.getById(targetID).data('label'),\n            id,\n        }, this.edgeValidator, type);\n    }\n}\n\nexport default GraphComponent;\n","// import GraphUndoRedo from './graph-undo-redo';\nimport Core from './1-core';\nimport { actionType as T } from '../../reducer';\n\nclass GraphCanvas extends Core {\n    setZoomUI;\n\n    resetZoom() {\n        this.cy.reset();\n        this.cy.center();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: this.getZoom() });\n    }\n\n    setOnZoom(cb) {\n        this.cy.removeListener('zoom');\n        this.setZoomUI = cb;\n        this.cy.on('zoom', (e) => cb(Math.round(100 * e.target.zoom())));\n    }\n\n    fitZoom() {\n        this.cy.fit();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: this.getZoom() });\n    }\n\n    setZoom(v) {\n        this.cy.zoom(v / 100);\n    }\n\n    getZoom() {\n        return Math.round(this.cy.zoom() * 100);\n    }\n\n    clearAll() {\n        if (this.cy.elements().length === 0) return true;\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do want to clear all elements?')) return false;\n        this.cy.elements().forEach((el) => this.deleteElem(el.id(), 0));\n        // this.actionArr = [];\n        this.dispatcher({ type: T.CHANGE_RESET, payload: true });\n        this.cy.emit('graph-modified');\n        return true;\n    }\n\n    resetAllComp() {\n        this.cy.elements().remove();\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.dispatcher({ type: T.SET_ZOOM_LEVEL, payload: Math.round(this.cy.zoom() * 100) });\n    }\n}\n\nexport default GraphCanvas;\n","import cytoscape from 'cytoscape';\nimport edgehandles from 'cytoscape-edgehandles';\nimport gridGuide from 'cytoscape-grid-guide';\nimport Konva from 'konva';\nimport nodeEditing from 'cytoscape-node-editing';\nimport $ from 'jquery';\nimport cyOptions from '../../config/cytoscape-options';\nimport BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport { actionType as T } from '../../reducer';\n\nclass CoreGraph {\n    dispatcher;\n\n    superState;\n\n    id;\n\n    projectName;\n\n    authorName;\n\n    cy;\n\n    bendNode;\n\n    constructor(id, element, dispatcher, superState, projectName, nodeValidator, edgeValidator, authorName) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (typeof cytoscape('core', 'edgehandles') !== 'function') {\n            cytoscape.use(edgehandles);\n        }\n        if (typeof cytoscape('core', 'nodeEditing') !== 'function') {\n            nodeEditing(cytoscape, $, Konva);\n        }\n        if (typeof cytoscape('core', 'gridGuide') !== 'function') {\n            gridGuide(cytoscape);\n        }\n        // if (cy) this.cy = cy;\n        this.cy = cytoscape({ ...cyOptions, container: element });\n        this.id = id;\n        this.projectName = projectName;\n        this.authorName = authorName;\n        this.cy.emit('graph-modified');\n        this.bendNode = this.cy.add(\n            { group: 'nodes', data: { type: 'bend' }, classes: ['hidden'] },\n        );\n        this.registerEvents();\n        this.cy.emit('graph-modified');\n        this.initizialize();\n    }\n\n    initizialize() {\n        this.cy.nodeEditing({\n            resizeToContentCueEnabled: () => false,\n            setWidth(node, width) {\n                node.data('style', { ...node.data('style'), width });\n            },\n            setHeight(node, height) {\n                node.data('style', { ...node.data('style'), height });\n            },\n            isNoResizeMode(node) { return node.data('type') !== 'ordin'; },\n            isNoControlsMode(node) { return node.data('type') !== 'ordin'; },\n        });\n\n        this.cy.gridGuide({\n            snapToGridOnRelease: false,\n            zoomDash: true,\n            panGrid: true,\n        });\n        this.cy.edgehandles({\n            preview: false,\n            handlePosition() {\n                return 'none';\n            },\n            handleNodes: 'node[type = \"ordin\"],node[type = \"special\"]',\n            complete: (a, b, c) => { c.remove(); this.addEdge({ sourceID: a.id(), targetID: b.id() }); },\n        });\n    }\n\n    getById(x) {\n        return this.cy.getElementById(x);\n    }\n\n    getLabelFromID(x) {\n        return this.getById(x).data('label') || '**Deleted El**';\n    }\n\n    set({\n        cy, dispatcher, superState, projectName, authorName,\n    }) {\n        if (dispatcher) this.dispatcher = dispatcher;\n        if (superState) this.superState = superState;\n        if (cy) this.cy = cy;\n        if (projectName) this.projectName = projectName;\n        if (authorName) this.authorName = authorName;\n    }\n\n    setProjectName(projectName, shouldEmit = true) {\n        this.projectName = projectName;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_PROJECT_DETAILS,\n                payload: {\n                    value: projectName,\n                    graphID: this.id,\n                    type: 'projectName',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    setProjectAuthor(authorName, shouldEmit = true) {\n        this.authorName = authorName;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_AUTHOR,\n                payload: {\n                    value: authorName,\n                    graphID: this.id,\n                    type: 'authorName',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    setServerID(serverID, shouldEmit = true) {\n        this.serverID = serverID;\n        if (shouldEmit) {\n            this.dispatcher({\n                type: T.SET_PROJECT_DETAILS,\n                payload: {\n                    value: serverID,\n                    graphID: this.id,\n                    type: 'serverID',\n                },\n            });\n        }\n        this.cy.emit('graph-modified');\n    }\n\n    selectDeselectEventHandler() {\n        const els = this.cy.$(':selected');\n        if (els.length === 0) { return this.dispatcher({ type: T.ELE_UNSELECTED }); }\n        let type;\n        if (els.every((e) => e.isNode())) type = 'NODE';\n        else if (els.every((e) => e.isEdge())) type = 'EDGE';\n        else type = 'MIX';\n        const ids = els.map((e) => e.data('id'));\n        return this.dispatcher({\n            type: T.ELE_SELECTED,\n            payload: {\n                ids, type,\n            },\n        });\n    }\n\n    registerEvents() {\n        this.cy.on('select unselect', () => this.selectDeselectEventHandler());\n        this.cy.on('grab', 'node[type = \"ordin\"]', (e) => {\n            e.target.forEach((node) => {\n                node.scratch('position', { ...node.position() });\n            });\n        });\n\n        this.cy.on('nodeediting.resizestart', (e, type, node) => {\n            node.scratch('height', node.data('style').height);\n            node.scratch('width', node.data('style').width);\n            node.scratch('position', { ...node.position() });\n        });\n\n        this.cy.on('hide-bend remove', () => {\n            this.bendNode.removeListener('drag grab dragfree'); this.bendNode.addClass('hidden');\n        });\n\n        this.cy.on('grabon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('hide-bend') : 0));\n        this.cy.on('freeon', (evt) => (evt.target[0].data('type') !== 'bend' ? this.cy.emit('show-bend') : 0));\n\n        this.cy.on('click tap', (ev) => {\n            if (ev.target === this.cy) {\n                this.cy.emit('hide-bend');\n                this.cy.$('.eh-handle').remove();\n            }\n        });\n        this.cy.on('select unselect show-bend', () => {\n            const el = this.cy.$(':selected');\n            if (el.length !== 1 || !el[0].isEdge()) this.cy.emit('hide-bend');\n            return el.emit('bend-edge');\n        });\n        this.cy.on('mouseover', 'edge', (ev) => {\n            ev.target.emit('bend-edge');\n        });\n\n        this.cy.on('bend-edge', 'edge', (ev) => {\n            if (!this.bendNode.hasClass('hidden')) this.cy.emit('hide-bend');\n            const el = ev.target;\n            this.bendNode.position(CoreGraph.getBendEdgePoint(el));\n            this.bendNode.on('drag', () => {\n                const DW = BendingDistanceWeight.getWeightDistance(\n                    this.bendNode.position(), el.source().position(), el.target().position(),\n                );\n                el.data('bendData', { bendDistance: DW.d, bendWeight: DW.w });\n                ev.target.emit('bending');\n            });\n            this.bendNode.on('grab', () => {\n                const node = el;\n                node.scratch('bendDistWeight', el.data('bendData'));\n            });\n            this.bendNode.on('dragfree', () => {\n                const node = el;\n                this.addBendChange(node.id(), node.scratch('bendDistWeight'), el.data('bendData'));\n            });\n            this.bendNode.removeClass('hidden');\n        });\n    }\n\n    setBendWightDist(id, DW) {\n        this.getById(id).data('bendData', DW);\n    }\n\n    static getBendEdgePoint(el) {\n        const { bendWeight, bendDistance } = el.data('bendData');\n        const w = parseFloat(bendWeight);\n        const d = parseFloat(bendDistance);\n        return BendingDistanceWeight.getCoordinate(w, d, el.source().position(), el.target().position());\n    }\n\n    setCurStatus() {\n        this.selectDeselectEventHandler();\n    }\n\n    reset() {\n        this.resetAllComp();\n        this.resetAllAction();\n    }\n}\n\nexport default CoreGraph;\n","const getSet = (ALL_GRAPHS) => {\n    if (!window.localStorage.getItem(ALL_GRAPHS)) {\n        window.localStorage.setItem(ALL_GRAPHS, window.btoa(JSON.stringify([])));\n    }\n    return new Set(JSON.parse(window.atob(window.localStorage.getItem(ALL_GRAPHS))));\n};\n\nconst localStorageManager = {\n    ALL_GRAPHS: window.btoa('ALL_GRAPHS'),\n    AUTHOR_NAME: window.btoa('AUTHOR_NAME'),\n\n    allgs: getSet(window.btoa('ALL_GRAPHS')),\n\n    saveAllgs() {\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Array.from(this.allgs))));\n    },\n\n    addEmptyIfNot() {\n        if (!window.localStorage.getItem(this.ALL_GRAPHS)) {\n            window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify([])));\n        }\n    },\n\n    get(id) {\n        if (window.localStorage.getItem(id) === null) return null;\n        return JSON.parse(window.atob(window.localStorage.getItem(id)));\n    },\n    save(id, graphContent) {\n        this.addGraph(id);\n        const serializedJson = JSON.stringify(graphContent);\n        window.localStorage.setItem(id, window.btoa(serializedJson));\n    },\n    remove(id) {\n        if (this.allgs.delete(id)) this.saveAllgs();\n        localStorage.removeItem(id);\n    },\n    addGraph(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        this.saveAllgs();\n    },\n    getAllGraphs() {\n        return JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n    },\n    addToFront(id) {\n        if (this.allgs.has(id)) return;\n        this.allgs.add(id);\n        const Garr = JSON.parse(window.atob(window.localStorage.getItem(this.ALL_GRAPHS)));\n        Garr.unshift(id);\n        window.localStorage.setItem(this.ALL_GRAPHS, window.btoa(JSON.stringify(Garr)));\n    },\n    getAuthorName() {\n        return localStorage.getItem(this.AUTHOR_NAME) || '';\n    },\n    setAuthorName(authorName) {\n        localStorage.setItem(this.AUTHOR_NAME, authorName);\n    },\n    clearGraph(id) {\n        window.localStorage.removeItem(id);\n    },\n    getFileList() {\n        return localStorage.getItem('fileList') || '';\n    },\n};\nexport default localStorageManager;\n","import Slider from 'rc-slider';\nimport React from 'react';\nimport { BiReset, BiRectangle } from 'react-icons/bi';\nimport 'rc-slider/assets/index.css';\nimport './zoomSetter.css';\nimport GraphOption from '../config/cytoscape-options';\nimport { actionType as T } from '../reducer';\n\nconst { minZoom, maxZoom } = GraphOption;\nconst marks = {};\n\nconst ZoomComp = ({ superState, dispatcher }) => {\n    const myGraph = superState.curGraphInstance;\n    if (!myGraph) return <></>;\n    const zoomValue = superState.zoomLevel;\n    return (\n        <div>\n            <div className=\"zoom-comp\">\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.resetZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiReset />\n\n                </div>\n                <div\n                    role=\"button\"\n                    tabIndex={0}\n                    className=\"zoom-box zoom-btn\"\n                    onClick={() => myGraph.fitZoom()}\n                    onKeyDown={(ev) => ev.key === ' ' && (myGraph.resetZoom())}\n                >\n                    <BiRectangle />\n\n                </div>\n                <div className=\"zoom-box zoom-value\">\n                    {zoomValue}\n                    %\n                </div>\n                <div className=\"slider\">\n                    <Slider\n                        min={100 * minZoom}\n                        max={100 * maxZoom}\n                        marks={marks}\n                        onChange={\n                            (value) => {\n                                myGraph.setZoom(value);\n                                dispatcher({ type: T.SET_ZOOM_LEVEL, payload: value });\n                            }\n                        }\n                        included={false}\n                        value={zoomValue}\n                    />\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ZoomComp;\n","class PropFromArr {\n    constructor(obj) {\n        this.arr = [obj];\n        this.flatenArr();\n    }\n\n    flatenArr() {\n        const flatArr = [];\n        for (let i = 0; i < this.arr.length; i += 1) {\n            if (this.arr[i].constructor === Array) this.arr[i].forEach((o) => this.arr.push(o));\n            else flatArr.push(this.arr[i]);\n        }\n        this.arr = flatArr;\n    }\n\n    G(p) {\n        return new PropFromArr(this.arr.map((o) => o[p]).filter((o) => o));\n    }\n\n    S(p) {\n        this.arr = this.arr.map((o) => o[p]).filter((o) => o);\n        this.flatenArr();\n        return this;\n    }\n\n    any() {\n        const arr = [];\n        this.arr.forEach((obj) => {\n            Object.keys(obj).forEach((key) => {\n                arr.push(obj[key]);\n            });\n        });\n        this.arr = arr;\n        this.flatenArr();\n        return this;\n    }\n\n    parseProps(s, t) {\n        const propFromArr = new PropFromArr(this.arr);\n        s.split('.').forEach(\n            (property) => (property === '*' ? propFromArr.any() : propFromArr.S(property)),\n        );\n        if (t === 1) return propFromArr.A();\n        if (t === 2) return propFromArr;\n        return propFromArr.F();\n    }\n\n    A() { return this.arr; }\n\n    F() { return this.arr[0]; }\n}\nexport default PropFromArr;\n","import PropFromArr from './PropFromArr';\n\nconst mapByDefault = (x, arr, def) => {\n    if (arr.includes(x)) return x;\n    return def;\n};\n\nconst parseNode = (node) => {\n    const p = new PropFromArr(node).parseProps('data.y:ShapeNode', 2);\n    return {\n        label: p.parseProps('y:NodeLabel._') || p.parseProps('y:NodeLabel'),\n        id: new PropFromArr(node).parseProps('$.id'),\n        position: {\n            x: parseFloat(p.parseProps('y:Geometry.$.x')),\n            y: parseFloat(p.parseProps('y:Geometry.$.y')),\n        },\n        style: {\n            width: parseFloat(p.parseProps('y:Geometry.$.width')),\n            height: parseFloat(p.parseProps('y:Geometry.$.height')),\n            opacity: parseInt(p.parseProps('y:Fill.$.opacity'), 10) || 1,\n            shape: mapByDefault(p.parseProps('y:Shape.$.type'), ['rectangle', 'ellipse'], 'rectangle'),\n            backgroundColor: p.parseProps('y:Fill.$.color'),\n            borderColor: p.parseProps('y:BorderStyle.$.color'),\n            borderWidth: parseInt(p.parseProps('y:BorderStyle.$.width'), 10),\n        },\n    };\n};\n\nconst parseEdge = (edge) => ({\n    label: new PropFromArr(edge).parseProps('data.*.y:EdgeLabel._')\n             || new PropFromArr(edge).parseProps('data.*.y:EdgeLabel'),\n    source: new PropFromArr(edge).parseProps('$.source'),\n    target: new PropFromArr(edge).parseProps('$.target'),\n    style: {\n        backgroundColor: new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.color'),\n        thickness: parseFloat(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.width')),\n        shape: mapByDefault(new PropFromArr(edge).parseProps('data.*.y:LineStyle.$.type'),\n            ['dashed', 'dotted'], 'solid'),\n    },\n    bendData: {\n        bendPoint: new PropFromArr(edge).parseProps('data.*.y:Path.y:Point.$'),\n    },\n});\n\nconst parseActionML = (({ actionName, parameters }) => ({ actionName: actionName[0], parameters: parameters[0] }));\n\nconst parseActionHistory = (grahML) => grahML.parseProps('graphml.graph.actionHistory', 1)\n    .map(({\n        equivalent, inverse, tid,\n    }) => ({\n\n        equivalent: parseActionML(equivalent[0]),\n        inverse: parseActionML(inverse[0]),\n        tid: tid[0],\n    }));\n\nconst parseDetails = (grahML) => grahML.parseProps('graphml.graph.$');\n\nexport {\n    parseNode, parseEdge, parseDetails, parseActionHistory,\n};\n","import xml2js from 'xml2js';\nimport PropFromArr from './PropFromArr';\nimport {\n    parseNode, parseEdge, parseDetails, parseActionHistory,\n} from './parseProperties';\n\nconst parser = (graphMlCnt) => new Promise((resolve) => {\n    new xml2js.Parser().parseString(graphMlCnt, (err, grahMLObj) => {\n        const grahML = new PropFromArr(grahMLObj);\n        const nodes = grahML.parseProps('graphml.graph.node', 1).map(parseNode);\n        const edges = grahML.parseProps('graphml.graph.edge', 1).map(parseEdge);\n        const {\n            id, projectName, serverID, authorName,\n        } = parseDetails(grahML);\n        const actionHistory = parseActionHistory(grahML);\n        resolve({\n            id, projectName, edges, nodes, actionHistory, serverID, authorName,\n        });\n    });\n});\nexport default parser;\n","import { toast } from 'react-toastify';\nimport parser from '../graph-builder/graphml/parser';\nimport { actionType as T } from '../reducer';\n\nconst getGraphFun = (superState) => superState.curGraphInstance;\n\nconst createNode = (state, setState) => {\n    setState({\n        type: T.Model_Open_Create_Node,\n        cb: (label, style) => {\n            const message = getGraphFun(state).validiateNode(label, style, null, 'New');\n            if (message.ok) getGraphFun(state).addNode(label, style);\n            return message;\n        },\n    });\n};\n\nconst editElement = (state, setState) => {\n    const shouldUpdateLabel = state.eleSelectedPayload.ids.length === 1;\n    const tid = new Date().getTime();\n    if (state.eleSelectedPayload.type === 'NODE') {\n        setState({\n            type: T.Model_Open_Update_Node,\n            cb: (label, style) => {\n                const retMessage = { ok: true, err: null };\n                state.eleSelectedPayload.ids.forEach((id) => {\n                    const message = getGraphFun(state).validiateNode(\n                        shouldUpdateLabel ? label : null, style, id, 'Update',\n                    );\n                    retMessage.ok = retMessage.ok && message.ok;\n                    retMessage.err = retMessage.err || message.err;\n                });\n                if (retMessage.ok) {\n                    state.eleSelectedPayload.ids.forEach(\n                        (id) => getGraphFun(state).updateNode(id, style, label, shouldUpdateLabel, tid),\n                    );\n                }\n                return retMessage;\n            },\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n    if (state.eleSelectedPayload.type === 'EDGE') {\n        setState({\n            type: T.Model_Open_Update_Edge,\n            cb: (label, style) => {\n                const retMessage = { ok: true, err: null };\n                state.eleSelectedPayload.ids.forEach((id) => {\n                    const message = getGraphFun(state).validiateEdge(\n                        shouldUpdateLabel ? label : null, style, null, null, id, 'Update',\n                    );\n                    retMessage.ok = retMessage.ok && message.ok;\n                    retMessage.err = retMessage.err || message.err;\n                });\n                if (retMessage.ok) {\n                    state.eleSelectedPayload.ids.forEach(\n                        (id) => getGraphFun(state).updateEdge(id, style, label, shouldUpdateLabel, tid),\n                    );\n                }\n                return retMessage;\n            },\n            labelAllowed: shouldUpdateLabel,\n            label: getGraphFun(state).getLabel(state.eleSelectedPayload.ids[0]),\n            style: getGraphFun(state).getStyle(state.eleSelectedPayload.ids[0]),\n        });\n    }\n};\n\nconst deleteElem = (state, dispatcher) => {\n    const tid = new Date().getTime();\n    state.eleSelectedPayload.ids.forEach((id) => getGraphFun(state).deleteElem(id, tid));\n    dispatcher({ type: T.ELE_UNSELECTED, payload: null });\n};\n\nconst downloadImg = (state, setState, format) => {\n    getGraphFun(state).downloadImg(format);\n};\n\nconst saveAction = (state) => {\n    getGraphFun(state).saveToDisk();\n};\n\nasync function saveGraphMLFile(state) {\n    if (state.curGraphInstance) {\n        const graph = state.graphs[state.curGraphIndex];\n        if (graph.fileHandle) {\n            const stream = await graph.fileHandle.createWritable();\n            await stream.write(getGraphFun(state).saveToFolder());\n            await stream.close();\n            toast.success('File saved Successfully');\n        } else if (!graph.fileHandle) {\n            getGraphFun(state).saveWithoutFileHandle();\n        } else {\n            toast.info('Switch to Edge/Chrome!');\n        }\n    } else {\n        toast.info('Switch to Edge/Chrome!');\n    }\n}\n\nconst readFile = async (state, setState, file, fileHandle) => {\n    if (file) {\n        const fr = new FileReader();\n        const projectName = file.name;\n        if (file.name.split('.').pop() === 'graphml') {\n            fr.onload = (x) => {\n                parser(x.target.result).then(({ authorName }) => {\n                    setState({\n                        type: T.ADD_GRAPH,\n                        payload: {\n                            projectName, graphML: x.target.result, fileHandle, fileName: file.name, authorName,\n                        },\n                    });\n                });\n            };\n            if (fileHandle) fr.readAsText(await fileHandle.getFile());\n            else fr.readAsText(file);\n        }\n    }\n};\n\nconst readTextFile = (state, setState, file, fileHandle) => {\n    if (file) {\n        setState({\n            type: T.EDIT_TEXTFILE,\n            payload: { show: true, fileObj: file, fileHandle },\n        });\n    }\n};\n\nconst optionModalToggle = (state, setState) => {\n    setState({\n        type: T.SET_OPTIONS_MODAL,\n        payload: true,\n    });\n};\n\nconst createFile = (state, setState) => {\n    setState({\n        type: T.EDIT_TEXTFILE,\n        payload: { show: true },\n    });\n};\n\nconst newProject = (state, setState) => {\n    setState({ type: T.NEW_GRAPH });\n};\n\nconst clearAll = (state) => {\n    getGraphFun(state).clearAll();\n};\n\nconst contribute = (state, setState) => {\n    setState({ type: T.SET_CONTRIBUTE_MODAL, payload: true });\n};\n\nconst resetAfterClear = (state) => {\n    getGraphFun(state).resetAfterClear();\n};\n\nconst toggleLogs = (state, dispatcher) => {\n    dispatcher({ type: T.SET_LOGS, payload: !state.logs });\n};\n\nconst editDetails = (state, setState) => {\n    setState({\n        type: T.SET_EDIT_DETAILS_MODAL,\n        payload: true,\n    });\n};\n\nconst undo = (state) => {\n    if (getGraphFun(state)) getGraphFun(state).undo();\n};\nconst redo = (state) => {\n    getGraphFun(state).redo();\n};\n\nconst openShareModal = (state, setState) => {\n    setState({ type: T.SET_SHARE_MODAL, payload: true });\n};\n\nconst openSettingModal = (state, setState) => {\n    setState({ type: T.SET_SETTING_MODAL, payload: true });\n};\n\nconst viewHistory = (state, setState) => {\n    setState({ type: T.SET_HISTORY_MODAL, payload: true });\n};\n\nconst toggleServer = (state, dispatcher) => {\n    if (state.isWorkflowOnServer) {\n        dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: false });\n    } else {\n        dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: true });\n    }\n};\n\nexport {\n    createNode, editElement, deleteElem, downloadImg, saveAction, saveGraphMLFile,\n    createFile, readFile, readTextFile, newProject, clearAll, editDetails, undo, redo,\n    openShareModal, openSettingModal, viewHistory, resetAfterClear, toggleLogs,\n    toggleServer, optionModalToggle, contribute,\n};\n","import React from 'react';\nimport {\n    MdEdit, MdClose, MdAdd,\n} from 'react-icons/md';\nimport hotkeys from 'hotkeys-js';\nimport ReactTooltip from 'react-tooltip';\nimport localStorageManager from '../graph-builder/local-storage-manager';\nimport { actionType as T } from '../reducer';\nimport { newProject, editDetails } from '../toolbarActions/toolbarFunctions';\nimport './tabBar.css';\n\nconst TabBar = ({ superState, dispatcher }) => {\n    const closeTab = (i, e) => {\n        e.stopPropagation();\n        // eslint-disable-next-line no-alert\n        if (!window.confirm('Do you confirm to close the tab? This action is irreversable.')) return;\n        localStorageManager.remove(superState.graphs[i] ? superState.graphs[i].graphID : null);\n        dispatcher({ type: T.REMOVE_GRAPH, payload: i });\n        if (!superState.curGraphIndex && superState.graphs.length === 1) {\n            dispatcher({ type: T.SET_CUR_INSTANCE, payload: null });\n            dispatcher({ type: T.SET_CUR_INDEX, payload: -1 });\n        }\n    };\n    const editCur = (e) => {\n        e.stopPropagation();\n        editDetails(superState, dispatcher);\n    };\n    React.useEffect(() => {\n        hotkeys('ctrl+shift+m,command+shift+m', (event) => {\n            event.preventDefault();\n            document.getElementById('new_graph').click();\n        });\n        hotkeys('ctrl+shift+e,command+shift+e', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.edit');\n            if (el) el.click();\n        });\n        hotkeys('ctrl+shift+l,command+shift+l', (event) => {\n            event.preventDefault();\n            const el = document.querySelector('.tab.tab-graph.selected > .tab-act.close');\n            if (el) el.click();\n        });\n    }, []);\n\n    return (\n        <div className=\"tab-par\">\n            <button\n                className=\"tab\"\n                onClick={newProject.bind(this, superState, dispatcher)}\n                type=\"button\"\n                id=\"new_graph\"\n                data-tip=\"New Workflow Tab (Ctrl + Shift + M)\"\n            >\n                <MdAdd size={25} />\n            </button>\n            {superState.graphs.map((el, i) => (\n                <div\n                    key={el.graphID}\n                    className={`tab tab-graph ${superState.curGraphIndex === i ? 'selected' : 'none'}`}\n                    onClick={() => dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    onKeyDown={(ev) => ev.key === ' ' && dispatcher({ type: T.CHANGE_TAB, payload: i })}\n                    role=\"button\"\n                    tabIndex={0}\n                    id={`tab_${i}`}\n                >\n                    <span className=\"tab-text\">\n                        {el.fileName || el.projectName}\n                    </span>\n\n                    {superState.curGraphIndex === i ? (\n                        <button\n                            className=\"tab-act edit\"\n                            onClick={editCur}\n                            type=\"button\"\n                            data-tip=\"Edit Workflow Details (Ctrl + Shift + E)\"\n                            data-for=\"header-tab\"\n                        >\n                            <MdEdit size={16} />\n                        </button>\n                    ) : <></>}\n                    <button\n                        className=\"tab-act close\"\n                        onClick={closeTab.bind(this, i)}\n                        type=\"button\"\n                        data-tip=\"Close current Workflow (Ctrl + Shift + L)\"\n                        data-for=\"header-tab\"\n                    >\n                        <MdClose size={20} />\n                    </button>\n                    <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" id=\"header-tab\" />\n                </div>\n            ))}\n        </div>\n    );\n};\n\nexport default TabBar;\n","const nodeML = ({\n  label, id, posX, posY, width, height, opacity, shape, backgroundColor, borderColor, borderWidth,\n}) => ({\n  $: {\n    id,\n  },\n  data: [\n    {\n      $: {\n        key: 'd6',\n      },\n      'y:ShapeNode': [\n        {\n          'y:Geometry': [\n            {\n              $: {\n                height,\n                width,\n                x: posX,\n                y: posY,\n              },\n            },\n          ],\n          'y:Fill': [\n            {\n              $: {\n                color: backgroundColor,\n                opacity,\n              },\n            },\n          ],\n          'y:BorderStyle': [\n            {\n              $: {\n                color: borderColor,\n                width: borderWidth,\n              },\n            },\n          ],\n          'y:NodeLabel': [label],\n          'y:Shape': [\n            {\n              $: {\n                type: shape,\n              },\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default nodeML;\n","const graphML = ({\n  nodes, edges, id, projectName, authorName, actionHistory, serverID, fileHandle, fileName,\n}) => ({\n  graphml: {\n    $: {\n      xmlns: 'http://graphml.graphdrawing.org/xmlns',\n      'xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n      'xsi:schemaLocation': 'http://graphml.graphdrawing.org/xmlns http://www.yworks.com/xml/schema/graphml/1.1/ygraphml.xsd',\n      'xmlns:y': 'http://www.yworks.com/xml/graphml',\n    },\n    key: [\n      {\n        $: {\n          for: 'node',\n          id: 'd6',\n          'yfiles.type': 'nodegraphics',\n        },\n      },\n      {\n        $: {\n          for: 'edge',\n          id: 'd10',\n          'yfiles.type': 'edgegraphics',\n        },\n      },\n    ],\n    graph: [\n      {\n        $: {\n          edgedefault: 'directed',\n          id,\n          projectName,\n          serverID,\n          fileHandle,\n          fileName,\n          authorName,\n        },\n        node: nodes,\n        edge: edges,\n        actionHistory,\n      },\n    ],\n  },\n});\n\nexport default graphML;\n","const edgeML = ({\n  id, label, source, target, lineColor, lineWidth, bendPoint, type,\n}) => ({\n  $: {\n    id,\n    source,\n    target,\n  },\n  data: [\n    {\n      $: {\n        key: 'd10',\n      },\n      'y:GenericEdge': [\n        {\n          $: {\n            configuration: 'com.yworks.bpmn.Connection',\n          },\n          'y:LineStyle': [\n            {\n              $: {\n                color: lineColor,\n                width: lineWidth,\n                type,\n              },\n            },\n          ],\n          'y:Arrows': [\n            {\n              $: {\n                source: 'none',\n                target: 'delta',\n              },\n            },\n          ],\n          'y:EdgeLabel': [label],\n          'y:Path': [\n            {\n              $: {\n                sx: '0.0',\n                sy: '0.0',\n                tx: '0.0',\n                ty: '0.0',\n              },\n              'y:Point': [\n                { $: bendPoint },\n              ],\n            },\n          ],\n        },\n      ],\n    },\n  ],\n});\n\nexport default edgeML;\n","import xml2js from 'xml2js';\nimport nodeML from './nodeML';\nimport graphML from './graphML';\nimport edgeML from './edgeML';\n\nconst builder = (G) => {\n    const nodes = G.nodes.map((node) => (nodeML({\n        label: node.label,\n        id: node.id,\n        posX: node.position.x,\n        posY: node.position.y,\n        ...node.style,\n    })));\n    const edges = G.edges.map((edg, i) => edgeML({\n        id: i,\n        label: edg.label,\n        source: edg.source,\n        target: edg.target,\n        lineColor: edg.style.backgroundColor,\n        lineWidth: edg.style.thickness,\n        bendPoint: edg.bendData.bendPoint,\n        type: edg.style.shape,\n    }));\n    const X = graphML({\n        nodes,\n        edges,\n        projectName: G.projectName,\n        id: G.id,\n        actionHistory: G.actionHistory,\n        serverID: G.serverID,\n        fileHandle: G.fileHandle,\n        fileName: G.fileName,\n        authorName: G.authorName,\n    });\n    const xml = new xml2js.Builder().buildObject(X);\n    return xml;\n};\nexport default builder;\n","import GraphServer from './6-server';\n\nexport default GraphServer;\n","import { toast } from 'react-toastify';\nimport Axios from 'axios';\nimport { actionType as T } from '../../reducer';\nimport GraphLoadSave from './5-load-save';\n// import {\n//     postGraph, updateGraph, forceUpdateGraph, getGraph, getGraphWithHashCheck,\n// } from '../../serverCon/crud_http';\n\nclass GraphServer extends GraphLoadSave {\n    set(config) {\n        const { serverID } = config;\n        super.set(config);\n        if (serverID) {\n            this.setServerID(serverID);\n            this.dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: Boolean(this.serverID) });\n        }\n    }\n    // Not being immplemented in version 1\n    // pushToServer() {\n    //     if (this.serverID) {\n    //         updateGraph(this.serverID, this.getGraphML()).then(() => {\n\n    //         });\n    //     } else {\n    //         postGraph(this.getGraphML()).then((serverID) => {\n    //             this.set({ serverID });\n    //             this.cy.emit('graph-modified');\n    //         });\n    //     }\n    // }\n\n    // forcePushToServer() {\n    //     if (this.serverID) {\n    //         forceUpdateGraph(this.serverID, this.getGraphML()).then(() => {\n\n    //         });\n    //     } else {\n    //         postGraph(this.getGraphML()).then((serverID) => {\n    //             this.set({ serverID });\n    //         });\n    //     }\n    // }\n\n    // forcePullFromServer() {\n    //     if (this.serverID) {\n    //         getGraph(this.serverID).then((graphXML) => {\n    //             this.setGraphML(graphXML);\n    //         });\n    //     } else {\n    //         // eslint-disable-next-line no-toast.success\n    //         toast.success('Not on server');\n    //     }\n    // }\n\n    // pullFromServer() {\n    //     if (this.actionArr.length === 0) { this.forcePullFromServer(); return; }\n    //     if (this.serverID) {\n    //         getGraphWithHashCheck(this.serverID, this.actionArr.at(-1).hash).then((graphXML) => {\n    //             this.setGraphML(graphXML);\n    //         }).catch(() => {\n\n    //         });\n    //     } else {\n    //         // eslint-disable-next-line no-toast.success\n    //         toast.success('Not on server');\n    //     }\n    // }\n\n    build() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/build/${this.superState.uploadedDirName}?fetch=${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}&unlock=${this.superState.unlockCheck}&docker=${this.superState.dockerCheck}&maxtime=${this.superState.maxTime}&params=${this.superState.params}&octave=${this.superState.octave}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message']);\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: true, debugged: true, cleared: false, stopped: false, destroyed: true,\n                    },\n                });\n                this.dispatcher({ type: T.SET_LOGS_MESSAGE, payload: this.superState.logsmessage + res.data.output });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    debug() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/debug/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    run() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/run/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    clear() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/clear/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}\n        ?unlock=${this.superState.unlockCheck}&maxtime=${this.superState.maxTime}&params=${this.superState.params}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message']);\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: true, debugged: true, cleared: false, stopped: true, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    stop() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/stop/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: false, ran: false, debugged: false, cleared: true, stopped: false, destroyed: true,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    destroy() {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.delete(`http://127.0.0.1:5000/destroy/${this.superState.graphs[this.superState.curGraphIndex].fileName.split('.')[0]}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.success(res.data['message'])\n                this.dispatcher({\n                    type: T.SET_FUNCTIONS,\n                    payload: {\n                        built: true, ran: false, debugged: false, cleared: false, stopped: false, destroyed: false,\n                    },\n                });\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    library(fileName) {\n        // TODO\n        const toastId = toast.info('LOADING.......', {\n            position: 'bottom-left',\n            autoClose: false,\n        });\n        // this.dispatcher({ type: T.SET_LOGS, payload: false });\n        Axios.post(`http://127.0.0.1:5000/library/${this.superState.uploadedDirName}?filename=${fileName}&path=${this.superState.library}`)\n            .then((res) => { // eslint-disable-next-line\n                toast.info(res.data['message'])\n                toast.dismiss(toastId);\n            }).catch((err) => { // eslint-disable-next-line\n                toast.error(err.message);\n                toast.dismiss(toastId);\n            });\n        if (this.serverID);\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.dispatcher({ type: T.IS_WORKFLOW_ON_SERVER, payload: Boolean(this.serverID) });\n    }\n}\n\nexport default GraphServer;\n","import { saveAs } from 'file-saver';\nimport { toast } from 'react-toastify';\nimport localStorageManager from '../local-storage-manager';\nimport graphmlBuilder from '../graphml/builder';\nimport BendingDistanceWeight from '../calculations/bending-dist-weight';\nimport GraphUndoRedo from './4-undo-redo';\nimport graphMLParser from '../graphml/parser';\nimport { actionType as T } from '../../reducer';\n\nclass GraphLoadSave extends GraphUndoRedo {\n    autoSaveIntervalId\n\n    constructor(...args) {\n        super(...args);\n        this.autoSaveIntervalId = null;\n    }\n\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('add remove data dragfreeon', 'node[type=\"ordin\"]', () => this.saveLocalStorage());\n        this.cy.on('add remove data', 'edge[type=\"ordin\"]', () => this.saveLocalStorage());\n        this.cy.on('nodeediting.resizeend graph-modified', () => this.saveLocalStorage());\n    }\n\n    downloadImg(format) {\n        this.cy.emit('hide-bend');\n        this.cy.$('.eh-handle').remove();\n        if (format === 'PNG') saveAs(this.cy.png({ full: true }), `${this.getName()}-DHGWorkflow.png`);\n        if (format === 'JPG') saveAs(this.cy.jpg({ full: true }), `${this.getName()}-DHGWorkflow.jpg`);\n    }\n\n    shouldNodeBeSaved(nodeID) {\n        return this.getById(nodeID).data('type') === 'ordin';\n    }\n\n    shouldEdgeBeSaved(edgeID) {\n        return this.getById(edgeID).data('type') === 'ordin';\n    }\n\n    // eslint-disable-next-line class-methods-use-this\n    getRealSourceId(nodeID) {\n        return nodeID;\n    }\n\n    static stringifyAction({ actionName, parameters }) {\n        return { actionName, parameters: window.btoa(JSON.stringify(parameters)) };\n    }\n\n    static parseAction({ actionName, parameters }) {\n        return { actionName, parameters: JSON.parse(window.atob(parameters)) };\n    }\n\n    jsonifyGraph() {\n        const graph = {\n            nodes: [],\n            edges: [],\n            actionHistory: [],\n            projectName: this.projectName,\n            id: this.id,\n            serverID: this.serverID,\n            fileName: null,\n            fileHandle: null,\n            authorName: this.authorName,\n        };\n        this.cy.nodes().forEach((node) => {\n            if (this.shouldNodeBeSaved(node.id())) {\n                const all = node.json();\n                const nodeJson = {\n                    label: all.data.label,\n                    id: all.data.id,\n                    position: all.position,\n                    style: {},\n                };\n                nodeJson.style = this.getStyle(node.id());\n                graph.nodes.push(nodeJson);\n            }\n        });\n        this.cy.edges().forEach((edge) => {\n            if (this.shouldEdgeBeSaved(edge.id())) {\n                const edgeJson = edge.json().data;\n                edgeJson.source = this.getRealSourceId(edge.source().id());\n                edgeJson.style = this.getStyle(edge.id());\n                edgeJson.bendData.bendPoint = BendingDistanceWeight.getCoordinate(\n                    edgeJson.bendData.bendWeight, edgeJson.bendData.bendDistance,\n                    edge.source().position(), edge.target().position(),\n                );\n                graph.edges.push(edgeJson);\n            }\n        });\n        graph.actionHistory = this.actionArr.map(({\n            tid, inverse, equivalent, hash,\n        }) => ({\n            tid,\n            inverse: GraphLoadSave.stringifyAction(inverse),\n            equivalent: GraphLoadSave.stringifyAction(equivalent),\n            hash,\n        }));\n        return graph;\n    }\n\n    getName() {\n        return `${this.projectName}`;\n    }\n\n    async saveToDisk() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            const options = {\n                types: [\n                    {\n                        description: 'GraphMl Files',\n                        accept: {\n                            'text/graphml': ['.graphml'],\n                        },\n                    },\n                ],\n            };\n            const handle = await window.showSaveFilePicker(options);\n            const stream = await handle.createWritable();\n            await stream.write(blob);\n            await stream.close();\n            const fileData = await handle.getFile();\n            let fS = this.superState.fileState;\n            fS = fS.concat([{\n                key: `${this.superState.uploadedDirName}/${handle.name}`,\n                modified: fileData.lastModified,\n                size: fileData.size,\n                fileObj: fileData,\n                fileHandle: handle,\n            }]);\n            this.dispatcher({ type: T.SET_FILE_STATE, payload: fS });\n        } else {\n            // eslint-disable-next-line no-alert\n            const fileName = prompt('Filename:');\n            saveAs(blob, `${fileName || `${this.getName()}-concore`}.graphml`);\n        }\n        toast.success('File saved Successfully');\n    }\n\n    async saveWithoutFileHandle() {\n        const { userAgent } = navigator;\n        if (userAgent.match(/firefox|fxios/i)) {\n            toast.info('Switch to Edge/Chrome!');\n            return;\n        }\n        const str = graphmlBuilder(this.jsonifyGraph());\n        const bytes = new TextEncoder().encode(str);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        const options = {\n            types: [\n                {\n                    description: 'GraphMl Files',\n                    accept: {\n                        'text/graphml': ['.graphml'],\n                    },\n                },\n            ],\n        };\n        const handle = await window.showSaveFilePicker(options);\n        this.dispatcher({\n            type: T.SET_FILE_HANDLE,\n            payload: { curGraphIndex: this.superState.curGraphIndex, fileHandle: handle },\n        });\n        const stream = await handle.createWritable();\n        await stream.write(blob);\n        await stream.close();\n        toast.success('File saved Successfully');\n    }\n\n    saveToFolder() {\n        const str = graphmlBuilder(this.jsonifyGraph());\n        return str;\n    }\n\n    getGraphML() {\n        return graphmlBuilder(this.jsonifyGraph());\n    }\n\n    loadJson(content) {\n        content.nodes.forEach((node) => {\n            this.addNode(node.label, node.style, 'ordin', node.position, {}, node.id, 0);\n        });\n        content.edges.forEach((edge) => {\n            this.addEdge({ ...edge, sourceID: edge.source, targetID: edge.target }, 0);\n        });\n        content.actionHistory.forEach(({\n            inverse, equivalent, tid,\n        }) => {\n            this.addAction(GraphLoadSave.parseAction(inverse), GraphLoadSave.parseAction(equivalent), tid);\n        });\n        this.setProjectName(content.projectName);\n        this.setServerID(this.serverID || content.serverID);\n        this.setProjectAuthor(content.authorName);\n    }\n\n    saveLocalStorage() {\n        if (this.autoSaveIntervalId !== null) clearTimeout(this.autoSaveIntervalId);\n        this.autoSaveIntervalId = setTimeout(() => localStorageManager.save(this.id, this.jsonifyGraph()), 1000);\n    }\n\n    setGraphML(graphML) {\n        graphMLParser(graphML).then((graphObject) => {\n            localStorageManager.save(this.id, graphObject);\n            this.loadGraphFromLocalStorage();\n        });\n    }\n\n    resetLocalStorage() {\n        localStorageManager.clearGraph(this.id);\n    }\n\n    loadGraphFromLocalStorage() {\n        this.reset();\n        const graphContent = localStorageManager.get(this.id);\n        if (!graphContent) return false;\n        this.loadJson(graphContent);\n        return true;\n    }\n\n    serializeGraph() {\n        return window.btoa(JSON.stringify(this.jsonifyGraph()));\n    }\n}\n\nexport default GraphLoadSave;\n","import md5 from 'md5';\nimport GraphComponent from './3-component';\nimport GA from '../graph-actions';\nimport { actionType as T } from '../../reducer';\n\nclass GraphUndoRedo extends GraphComponent {\n    static methodsMapped\n\n    actionArr\n\n    curActionIndex\n\n    constructor(...props) {\n        super(...props);\n\n        this.methodsMapped = {\n            [GA.ADD_NODE]: (...args) => this.addNode(...args, 0),\n            [GA.ADD_EDGE]: (...args) => this.addEdge(...args, 0),\n            [GA.UPDATE_NODE]: (...args) => this.updateNode(...args, 0),\n            [GA.UPDATE_EDGE]: (...args) => this.updateEdge(...args, 0),\n            [GA.UPDATE_DATA]: (...args) => this.updateData(...args, 0),\n            [GA.DEL_NODE]: (...args) => this.deleteNode(...args, 0),\n            [GA.DEL_EDGE]: (...args) => this.deleteElem(...args, 0),\n            [GA.SET_POS]: (...args) => this.setPos(...args, 0),\n            [GA.SET_DIM]: (...args) => this.setDim(...args, 0),\n            [GA.SET_BENDW]: (...args) => this.setBendWightDist(...args),\n        };\n\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    resetAllAction() {\n        this.actionArr = [];\n        this.curActionIndex = 0;\n    }\n\n    informUI() {\n        this.dispatcher({ type: T.SET_UNDO, payload: this.curActionIndex !== 0 });\n        this.dispatcher({ type: T.SET_REDO, payload: this.curActionIndex !== this.actionArr.length });\n    }\n\n    performAction({ actionName, parameters }) {\n        const action = this.methodsMapped[actionName];\n        action(...parameters);\n    }\n\n    addPositionChange(id, prevPos, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_POS, parameters: [id, prevPos, curPos] },\n            { actionName: GA.SET_POS, parameters: [id, curPos, prevPos] }, tid,\n        );\n    }\n\n    addDimensionChange(id, prevDim, prevPos, curDim, curPos) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_DIM, parameters: [id, prevDim, prevPos] },\n            { actionName: GA.SET_DIM, parameters: [id, curDim, curPos] }, tid,\n        );\n    }\n\n    addBendChange(id, prevDW, curDW) {\n        const tid = new Date().getTime();\n        this.addAction(\n            { actionName: GA.SET_BENDW, parameters: [id, prevDW] },\n            { actionName: GA.SET_BENDW, parameters: [id, curDW] }, tid,\n        );\n    }\n\n    static sequencify(obj) {\n        if (!(obj instanceof Object)) return obj;\n        let r = [];\n        if (obj instanceof Array) {\n            r = obj.map(GraphUndoRedo.sequencify);\n        } else {\n            Object.keys(obj).sort().forEach((k) => {\n                r.push(`:${k}:`);\n                r.push(GraphUndoRedo.sequencify(obj[k]));\n            });\n        }\n        return r;\n    }\n\n    addAction(inverse, equivalent, tid) {\n        if (tid === 0) return;\n        this.actionArr.splice(this.curActionIndex);\n\n        const actionIdentity = GraphUndoRedo.sequencify(equivalent).toString()\n            + GraphUndoRedo.sequencify(equivalent).toString()\n            + tid;\n        this.actionArr.push({\n            tid,\n            inverse,\n            equivalent,\n            hash: md5(\n                `${actionIdentity}|${this.actionArr.length ? this.actionArr.at(-1).hash : ''}`,\n            ),\n        });\n        this.curActionIndex += 1;\n        this.informUI();\n    }\n\n    undoSingleAction() {\n        if (this.curActionIndex !== 0) {\n            this.curActionIndex -= 1;\n            this.performAction(this.actionArr[this.curActionIndex].inverse);\n            this.informUI();\n        }\n    }\n\n    redoSingleAction() {\n        if (this.curActionIndex !== this.actionArr.length) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n            this.informUI();\n        }\n    }\n\n    undo() {\n        let curTid = null;\n        if (this.curActionIndex !== 0) curTid = this.actionArr[this.curActionIndex - 1].tid;\n        while (this.curActionIndex !== 0 && this.actionArr[this.curActionIndex - 1].tid === curTid) {\n            this.curActionIndex -= 1;\n            this.performAction(this.actionArr[this.curActionIndex].inverse);\n        }\n        this.informUI();\n    }\n\n    redo() {\n        let curTid = null;\n        if (this.curActionIndex !== this.actionArr.length) curTid = this.actionArr[this.curActionIndex].tid;\n        while (this.curActionIndex !== this.actionArr.length && this.actionArr[this.curActionIndex].tid === curTid) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.informUI();\n    }\n\n    resetAfterClear() {\n        const limit = this.curActionIndex;\n        this.curActionIndex = 0;\n        while (this.curActionIndex !== this.actionArr.length && this.curActionIndex !== limit) {\n            this.performAction(this.actionArr[this.curActionIndex].equivalent);\n            this.curActionIndex += 1;\n        }\n        this.informUI();\n        this.dispatcher({ type: T.CHANGE_RESET, payload: false });\n        return true;\n    }\n\n    setCurStatus() {\n        super.setCurStatus();\n        this.informUI();\n    }\n\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('dragfree', 'node[type = \"ordin\"]', (e) => {\n            e.target.forEach((node) => {\n                this.addPositionChange(node.id(), node.scratch('position'), { ...node.position() });\n            });\n        });\n        this.cy.on('nodeediting.resizeend', (e, type, node) => {\n            this.addDimensionChange(\n                node.id(),\n                { height: node.scratch('height'), width: node.scratch('width') },\n                node.scratch('position'),\n                { height: node.data('style').height, width: node.data('style').width },\n                { ...node.position() },\n            );\n        });\n    }\n}\n\nexport default GraphUndoRedo;\n","const boundaryPoint = {\n    getEq(P1, P2) {\n        const m = (P1.y - P2.y) / (P1.x - P2.x);\n        const c = P1.y - m * P1.x;\n        return [m, c];\n    },\n    getX1X2(Cn, P, w, h) {\n        if (Cn.x === P.x) return [P.x, P.x];\n        const P2 = { x: P.x - Cn.x, y: P.y - Cn.y };\n        const [m, c] = this.getEq({ x: 0, y: 0 }, P2);\n        // (22+2)2+22+2(22)\n        const A = (w ** 2 * m ** 2 + h ** 2);\n        const B = 2 * w ** 2 * m * c;\n        const C = w ** 2 * (c ** 2 - h ** 2);\n        const D = B ** 2 - 4 * A * C;\n        const x1 = (-B + D ** 0.5) / (2 * A) + Cn.x;\n        const x2 = (-B - D ** 0.5) / (2 * A) + Cn.x;\n        return [x1, x2];\n    },\n    getY1Y2(C, P, w, h, x1, x2) {\n        if (x1 === x2) return [C.y + h, C.y - h];\n        const [m, c] = this.getEq(C, P);\n        return [m * x1 + c, m * x2 + c];\n    },\n    dist(A, B) {\n        return ((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5;\n    },\n    getClosestEllipse(C, P, w, h) {\n        const [x1, x2] = this.getX1X2(C, P, w, h);\n        const [y1, y2] = this.getY1Y2(C, P, w, h, x1, x2);\n        const [d1, d2] = [this.dist(P, { x: x1, y: y1 }), this.dist(P, { x: x2, y: y2 })];\n        if (d1 < d2) return { x: x1, y: y1 };\n        return { x: x2, y: y2 };\n    },\n    slope(x1, y1, x2, y2) {\n        return (x1 - x2) / (y1 - y2);\n    },\n\n    setSubQ(C, P, w, h) {\n        const [S1, S2] = [[C.x + w, C.y + h], [C.x + w, C.y - h]]\n            .map(([x, y]) => ((C.x - x) * (P.y - y) - (C.y - y) * (P.x - x)) > 0);\n        if (S1 && !S2) return 0;\n        if (!S1 && !S2) return 1;\n        if (!S1 && S2) return 2;\n        if (S1 && S2) return 3;\n        return -1;\n    },\n\n    getClosestRect(C, P, w, h) {\n        const [m, c] = this.getEq(P, C);\n        let D = [\n            [C.x + w, C.y],\n            [C.x, C.y + h],\n            [C.x - w, C.y],\n            [C.x, C.y - h],\n        ];\n        if (Math.abs(m) !== Infinity) {\n            D = [ // To point toward center\n                [C.x + w, m * (C.x + w) + c],\n                [(C.y + h - c) / m, C.y + h],\n                [C.x - w, m * (C.x - w) + c],\n                [(C.y - h - c) / m, C.y - h],\n            ];\n        }\n        const [x, y] = D[this.setSubQ(C, P, w, h)];\n        return { x, y };\n    },\n    get(C, P, w, h, type) {\n        if (type === 'rectangle') return boundaryPoint.getClosestRect(C, P, w, h);\n        return boundaryPoint.getClosestEllipse(C, P, w, h);\n    },\n\n};\n\nexport default boundaryPoint.get;\n","import TailoredGraphBuilder from './tailored-graph-builder';\n\nexport default TailoredGraphBuilder;\n","import CoreGraph from './graph-core';\nimport { actionType as T } from '../reducer';\nimport getBoundaryPoint from './calculations/boundary-point';\nimport GA from './graph-actions';\n\nclass TailoredGraph extends CoreGraph {\n    registerEvents() {\n        super.registerEvents();\n        this.cy.on('drag data moved', 'node[type=\"ordin\"]', (evt) => {\n            evt.target.connectedEdges().connectedNodes('node[type=\"special\"]').forEach((juncNode) => {\n                juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n            });\n        });\n        this.cy.on('bending', (evt) => {\n            const juncNode = evt.target.source();\n            juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n        });\n    }\n\n    static calJuncNodePos(juncNode) {\n        const parNode = juncNode.incomers('node')[0];\n        const meanNbrPosition = { x: 0, y: 0 };\n        const setOfPos = new Set();\n        juncNode.outgoers('edge[type=\"ordin\"]')\n            .forEach((edge) => setOfPos.add(JSON.stringify(TailoredGraph.getBendEdgePoint(edge))));\n        setOfPos.forEach((posStr) => {\n            const pos = JSON.parse(posStr);\n            meanNbrPosition.x += pos.x;\n            meanNbrPosition.y += pos.y;\n        });\n        if (setOfPos.size === 0) return juncNode.position();\n        meanNbrPosition.x /= setOfPos.size;\n        meanNbrPosition.y /= setOfPos.size;\n        return getBoundaryPoint(\n            parNode.position(), meanNbrPosition,\n            parNode.data('style').width / 2,\n            parNode.data('style').height / 2,\n            parNode.data('style').shape,\n        );\n    }\n\n    getRealNode(juncNodeId) {\n        return this.getById(juncNodeId).incomers().filter('node')[0];\n    }\n\n    addAutoMove(juncNode) {\n        juncNode.unselectify();\n        return this;\n    }\n\n    addEdgeWithJuncNode(edgeData, tid) {\n        const juncNode = this.getById(edgeData.sourceID);\n        const ed = super.addEdge({\n            ...edgeData,\n            label: juncNode.data('edgeLabel'),\n            style: juncNode.data('edgeStyle'),\n        }, tid);\n        juncNode.position(TailoredGraph.calJuncNodePos(juncNode));\n        return ed;\n    }\n\n    addEdgeWithoutJuncNode(edgeData, tid) {\n        const { sourceID, targetID, style } = edgeData;\n        const [sourceNode, targetNode] = [sourceID, targetID].map(this.getById.bind(this));\n        const sourceNodeStyle = sourceNode.data('style');\n        const juncNodePos = getBoundaryPoint(\n            sourceNode.position(),\n            targetNode.position(),\n            sourceNodeStyle.width / 2,\n            sourceNodeStyle.height / 2,\n            sourceNodeStyle.shape,\n        );\n        const juncNode = super.addNode('', { backgroundColor: style.backgroundColor },\n            'special', juncNodePos, { edgeLabel: edgeData.label, edgeStyle: style }, undefined, tid);\n        juncNode.ungrabify();\n        super.addEdge({\n            sourceID,\n            targetID: juncNode.id(),\n            style: {\n                ...style,\n                'target-arrow-shape': 'none',\n            },\n            type: 'special',\n        }, tid);\n        this.addAutoMove(juncNode, sourceNode);\n        return this.addEdgeWithJuncNode({ ...edgeData, sourceID: juncNode.id() }, tid);\n    }\n\n    addEdgeAction(id, edgeData, tid) {\n        this.addAction(\n            { actionName: GA.DEL_EDGE, parameters: [id] },\n            {\n                actionName: GA.ADD_EDGE,\n                parameters: [{ ...edgeData, sourceID: this.getRealSourceId(edgeData.sourceID), id }],\n            },\n            tid,\n        );\n    }\n\n    addEdge(edgeData, tidd = this.getTid()) {\n        const tid = 0;\n        const { sourceID, targetID, label } = edgeData;\n        const [sourceNode, targetNode] = [sourceID, targetID].map(this.getById.bind(this));\n        const juncNodes = sourceNode.outgoers('node').filter((node) => label && node.data('edgeLabel') === label);\n\n        let edge;\n        if (targetNode.data('type') !== 'ordin') return edge; // Don't Add Node\n        if (sourceNode.data('type') === 'special') edge = this.addEdgeWithJuncNode(edgeData, tid);\n        else if (juncNodes.length) edge = this.addEdgeWithJuncNode({ ...edgeData, sourceID: juncNodes[0].id() }, tid);\n        else if (label && label.length) edge = this.addEdgeWithoutJuncNode(edgeData, tid);\n        else {\n            this.dispatcher({\n                type: T.Model_Open_Create_Edge,\n                cb: (edgeLabel, edgeStyle) => {\n                    const message = this.validiateEdge(edgeLabel, edgeStyle, sourceID, targetID, null, 'New');\n                    if (message.ok) edge = this.addEdge({ ...edgeData, label: edgeLabel, style: edgeStyle }, tid);\n                    if (edge) this.addEdgeAction(edge.id(), { ...edgeData, label: edgeLabel, style: edgeStyle }, tidd);\n                    return message;\n                },\n            });\n        }\n        if (edge) this.addEdgeAction(edge.id(), edgeData, tidd);\n        return edge;\n    }\n\n    updateEdge(id, style, label, shouldUpdateLabel, tid = this.getTid()) {\n        this.addAction(\n            {\n                actionName: GA.UPDATE_EDGE,\n                parameters: [id, this.getStyle(id), this.getById(id).data('label'), shouldUpdateLabel],\n            },\n            { actionName: GA.UPDATE_EDGE, parameters: [id, style, label, shouldUpdateLabel] },\n            tid,\n        );\n        const junctionNode = this.getById(id).source();\n        if (shouldUpdateLabel) this.updateData(junctionNode.data('id'), 'edgeLabel', label, 0);\n        this.updateData(junctionNode.data('id'), 'edgeStyle', style, 0);\n        this.updateNode(junctionNode.data('id'), { backgroundColor: style.backgroundColor }, '', false, 0);\n\n        junctionNode\n            .outgoers('edge')\n            .forEach((edge) => super.updateEdge(edge.data('id'), style, label, shouldUpdateLabel, 0));\n    }\n\n    deleteElem(id, tid = this.getTid()) {\n        const el = this.getById(id);\n        if (el.isNode()) {\n            if (el.removed()) return;\n            el.outgoers('node[type=\"special\"]')\n                .connectedEdges('edge[type=\"ordin\"]')\n                .forEach((edge) => this.deleteElem(edge.id(), tid));\n            el.connectedEdges('edge[type=\"ordin\"]')\n                .forEach((edge) => this.deleteElem(edge.id(), tid));\n\n            const node = this.getById(id);\n            this.addAction(\n                {\n                    actionName: GA.ADD_NODE,\n                    parameters: [\n                        node.data('label'), this.getStyle(node.id()), node.data('type'),\n                        node.position(), node.json().data, id,\n                    ],\n                },\n                { actionName: GA.DEL_NODE, parameters: [id] }, tid,\n            );\n            super.deleteNode(id, 0);\n        } else {\n            if (!this.getById(id).length || el.removed()) return;\n            const jsonEd = this.getById(id).json().data;\n            this.addAction(\n                {\n                    actionName: GA.ADD_EDGE,\n                    parameters: [{\n                        ...jsonEd, sourceID: this.getRealSourceId(jsonEd.source), targetID: jsonEd.target,\n                    }],\n                },\n                { actionName: GA.DEL_EDGE, parameters: [id] }, tid,\n            );\n            const junctionNode = el.source();\n            super.deleteEdge(id, 0);\n            if (junctionNode) if (junctionNode.outgoers().length === 0) this.deleteNode(junctionNode.id(), 0);\n        }\n    }\n\n    getRealSourceId(nodeID) {\n        if (this.getById(nodeID).data('type') === 'ordin') return nodeID;\n        if (this.getById(nodeID).incomers('node').length === 0) return nodeID;\n        return this.getById(nodeID).incomers('node')[0].id();\n    }\n\n    getEdgesBetweenNodes(n1, n2) {\n        const [c1, c2] = [n1, n2]\n            .map((n) => this.getById(this.getRealSourceId(n)))\n            .map((r) => r.outgoers('node[type=\"special\"]').union(r));\n        return c1.edgesWith(c2);\n    }\n\n    getNodesEdges() {\n        const nodes = this.cy.$('node[type=\"ordin\"]').map((node) => ({\n            label: node.data('label'),\n            style: node.data('style'),\n            id: node.data('id'),\n        }));\n        const edges = {};\n        this.cy.$('edge[type=\"ordin\"]').forEach((edge) => {\n            const label = edge.data('label');\n            const sourceLabel = this.getById(this.getRealSourceId(edge.source().id())).data('label');\n            const targetLabel = edge.target().data('label');\n            const style = edge.data('style');\n            const id = edge.data('id');\n            if (!edges[label]) {\n                edges[label] = {\n                    targetLabel: [targetLabel], sourceLabel, id, label, style,\n                };\n            } else edges[label].targetLabel.push(targetLabel);\n        });\n        return [nodes, Object.values(edges)];\n    }\n}\n\nexport default TailoredGraph;\n","import React, { useEffect, useRef, useState } from 'react';\nimport { edgeValidator, nodeValidator } from './config/defaultValidators';\nimport MyGraph from './graph-builder';\nimport { actionType as T } from './reducer';\n\nfunction Graph({\n    el, superState, dispatcher, graphID, serverID, graphML, projectName, graphContainerRef, active, authorName,\n}) {\n    const [instance, setInstance] = useState(null);\n    const ref = useRef();\n    const setContainerDim = (element) => {\n        if (element) {\n            const elToAss = element;\n            elToAss.style.width = `${graphContainerRef.current.offsetWidth - 2}px`;\n            elToAss.style.height = `${graphContainerRef.current.offsetHeight - 2}px`;\n        }\n    };\n\n    const initialiseNewGraph = () => {\n        const myGraph = new MyGraph(\n            graphID, ref.current, dispatcher, superState, projectName, nodeValidator, edgeValidator, authorName,\n        );\n        if (graphID) myGraph.loadGraphFromLocalStorage();\n        if (serverID) {\n            myGraph.set({ serverID });\n            myGraph.forcePullFromServer();\n        }\n        if (graphML) myGraph.setGraphML(graphML);\n        myGraph.setCurStatus();\n        return myGraph;\n    };\n    // Remote server implementation - Not being used.\n    // useEffect(() => {\n    //     if (active && loaded && serverID) {\n    //         window.history.pushState(null, null, path.join(process.env.PUBLIC_URL, 's', serverID));\n    //     } else if (active && loaded && graphID) {\n    //         window.history.pushState(null, null, path.join(process.env.PUBLIC_URL, 'l', graphID));\n    //     }\n    // }, [active, serverID, loaded, graphID]);\n    useEffect(() => instance && instance.set({ superState }), [instance, superState]);\n    useEffect(() => active && instance && instance.setCurStatus(), [active && instance]);\n    useEffect(() => {\n        if (active && instance) dispatcher({ type: T.SET_CUR_INSTANCE, payload: instance });\n    }, [active && instance]);\n\n    useEffect(() => {\n        if (ref.current) {\n            setContainerDim(ref.current);\n            window.addEventListener('resize', () => setContainerDim(ref.current));\n            setInstance(initialiseNewGraph());\n        }\n    }, [ref]);\n\n    const { id } = el;\n\n    return (\n        <div\n            style={{ zIndex: 1, display: active ? 'block' : 'none' }}\n            key={id}\n            className=\"graph-element\"\n            ref={ref}\n        />\n    );\n}\nexport default Graph;\n","const nodeValidator = `(node, nodes, edges) => {\n    var regex = /^[A-za-z0-9]+[:[A-Za-z0-9.]+]|[^$]$/;\n    let message = { ok: true, err: null };\n    if (!regex.test(node.label)) {\n        message = {\n            ok: false,\n            err: 'Node with incorrect label.',\n        }\n        return message;\n    }\n    nodes.forEach((n) => {\n        if (n.id !== node.id && n.label.split(':')[0] === node.label.split(':')[0]) {\n            message = {\n                ok: false,\n                err: 'Node with same label exists.',\n            };\n        }\n    });\n    return message;\n    }`;\nconst edgeValidator = `(edge, nodes, edges) => {\nlet message = { ok: true, err: null };\nlet numEdge = \"\";\nfor (let char of edge.label) {\n    if (!isNaN(parseInt(char))) {\n      numEdge += char;\n    } else if (numEdge !== \"\") {\n      break;\n    }\n}\nedges.forEach((e) => {\n    if (e.label === edge.label && e.sourceLabel !== edge.sourceLabel) {\n        message = {\n            ok: false,\n            err: 'Edge with same label exists.',\n        };\n    }\n    let numE = \"\";\n    for (let char of e.label) {\n        if (!isNaN(parseInt(char))) {\n        numE += char;\n        } else if (numE !== \"\") {\n        break;\n        }\n    }\n    if (numE === numEdge && numE != \"0\" && numE !== \"\") {\n        message = {\n            ok: false,\n            err: '2 edges cannot have same prefixes if they are number',\n        };\n        return message;\n    }\n});\nreturn message;\n}`;\n\n/* eslint-disable max-len */\nconst nodeValidatorFormat = `Takes **\\`node\\`** details under validation, existing **\\`nodes\\`**, existing **\\`edges\\`** and **\\`type\\`**\n\n**Node:** { label: String, style: Object, id: String | undefined },\n**Nodes:** [{ label: String, style: Object, id: String }],\n**Edges:** [{ label: String, sourceLabel: String, targetLabel: String, style: Object, id: String }],\n**Type:** \\`New\\` | \\`Update\\``;\n\nconst edgeValidatorFormat = `Takes **\\`edge\\`** details under validation, existing **\\`nodes\\`** and existing **\\`edges\\`** and **\\`type\\`**\n\n**Edge:** { label: String, sourceLabel: String, targetLabel: String, style: Object, id: String | undefined },\n**Nodes:** [{ label: String, style: Object, id: String }],\n**Edges:** [{ label: String, sourceLabel: String, targetLabel: String, style: Object, id: String }],\n**Type:** \\`New\\` | \\`Update\\``;\n/* eslint-enable max-len */\n\nexport {\n    nodeValidator, edgeValidator, nodeValidatorFormat, edgeValidatorFormat,\n};\n","import React, { useEffect } from 'react';\nimport ZoomComp from './component/ZoomSetter';\n\nimport { actionType as T } from './reducer';\nimport './graphWorkspace.css';\nimport localStorageManager from './graph-builder/local-storage-manager';\nimport TabBar from './component/TabBar';\nimport Graph from './GraphArea';\n\nconst GraphComp = (props) => {\n    const graphContainerRef = React.useRef();\n    const { dispatcher, superState } = props;\n    // const [loadedFromStorage, setLoadedFromStorage] = React.useState(false);\n\n    useEffect(() => {\n        const allSavedGs = localStorageManager.getAllGraphs().map((graphID) => ({\n            graphID,\n        }));\n        dispatcher({\n            type: T.ADD_GRAPH_BULK,\n            payload: allSavedGs,\n        });\n        // setLoadedFromStorage(true);\n    }, []);\n\n    // Remote server implementation - Not being used.\n    // useEffect(() => {\n    //     if (!loadedFromStorage) return;\n    //     const graphFromParams = Object.fromEntries(new URLSearchParams(window.location.search).entries()).g;\n    //     if (graphFromParams) {\n    //         const graphContent = JSON.parse(window.atob(graphFromParams));\n    //         const gid = new Date().getTime().toString();\n    //         localStorageManager.addToFront(gid);\n    //         localStorageManager.save(gid, graphContent);\n    //         window.history.replaceState({}, document.title, window.location.pathname);\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { graphID: gid } });\n    //     }\n    //     const urlParms = window.location.pathname.split('/');\n    //     const serverIDIndex = urlParms.indexOf('s');\n    //     const localIDIndex = urlParms.indexOf('l');\n    //     if (serverIDIndex !== -1 && serverIDIndex + 1 < urlParms.length) {\n    //         const serverID = urlParms[serverIDIndex + 1];\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { serverID } });\n    //     }\n    //     if (localIDIndex !== -1 && localIDIndex + 1 < urlParms.length) {\n    //         const graphID = urlParms[localIDIndex + 1];\n    //         dispatcher({ type: T.ADD_GRAPH, payload: { graphID } });\n    //     }\n    // }, [loadedFromStorage]);\n\n    return (\n        <div\n            style={{\n                flex: 1,\n                flexDirection: 'column',\n                display: 'flex',\n                width: '100%',\n            }}\n        >\n            <TabBar superState={superState} dispatcher={dispatcher} />\n            <div style={{ flex: 1, background: 'white' }} className=\"graph-container\" ref={graphContainerRef}>\n                {superState.graphs.map((el, i) => (\n                    <Graph\n                        el={el}\n                        i={i}\n                        superState={superState}\n                        graphContainerRef={graphContainerRef}\n                        dispatcher={dispatcher}\n                        key={el.graphID}\n                        active={i === superState.curGraphIndex}\n                        graphID={el.graphID}\n                        serverID={el.serverID}\n                        graphML={el.graphML}\n                        projectName={el.projectName}\n                        fileHandle={el.fileHandle}\n                        fileName={el.fileName}\n                        authorName={el.authorName}\n                    />\n                ))}\n                <ZoomComp dispatcher={dispatcher} superState={superState} />\n            </div>\n        </div>\n    );\n};\n\nexport default GraphComp;\n","import React, { useState, useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './parent-modal.css';\n\nReactModal.setAppElement('#root');\n\nconst Modal = ({\n    closeModal, ModelOpen, title, children,\n}) => {\n    const [curClass, setCurClass] = useState('');\n    const [isOpen, setIsOpen] = useState(ModelOpen);\n    const [stid, setStid] = useState(null);\n    useEffect(() => {\n        if (ModelOpen === true) {\n            setIsOpen(true);\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(true);\n                setCurClass('');\n            }, 20));\n        } else {\n            setCurClass('closing');\n            clearTimeout(stid);\n            setStid(setTimeout(() => {\n                setIsOpen(false);\n            }, 400));\n        }\n    }, [ModelOpen]);\n\n    if (!isOpen) return '';\n    return (\n        <ReactModal\n            isOpen={isOpen}\n            contentLabel=\"onRequestClose Example\"\n            // onRequestClose={closeModal} // prevent modal from closing when clicked outside\n            className=\"Modal\"\n            overlayClassName={`Overlay ${curClass}`}\n        >\n            <div className={`modal-content ${curClass}`}>\n                <div className=\"modal-header\">\n                    <div className=\"modal-title h4\">{title}</div>\n                    <button type=\"button\" className=\"close\" onClick={closeModal}>\n                        {closeModal ? <span aria-hidden=\"true\"></span> : ''}\n                        <span className=\"sr-only\">Close</span>\n                    </button>\n                </div>\n                <div className=\"modal-body\">\n                    {children}\n                </div>\n            </div>\n        </ReactModal>\n    );\n};\nexport default Modal;\n","import { toast } from 'react-toastify';\nimport React, { useState, useEffect } from 'react';\nimport './graph-comp-details.css';\nimport ParentModal from './ParentModal';\nimport { readTextFile, createFile } from '../../toolbarActions/toolbarFunctions';\nimport { actionType as T } from '../../reducer';\n\nconst ModalComp = ({ closeModal, superState, dispatcher }) => {\n    const [data, setData] = useState({});\n    const [errorMessage, setErrorMessage] = useState('');\n    const [element, setElement] = useState(null);\n    const [editSourceClicked, setEditSourceClicked] = useState(false);\n    const [createSourceClicked, setCreateSourceClicked] = useState(false);\n    const [createHelpClicked, setCreateHelpClicked] = useState(false);\n    const { modalPayload, ModelOpen } = superState;\n    const {\n        cb, title, submitText, Children, defaultStyle, defaultLabel, labelAllowed, type,\n    } = modalPayload;\n\n    useEffect(() => {\n        setErrorMessage('');\n    }, [ModelOpen]);\n\n    useEffect(() => {\n        setData({ label: defaultLabel || '', style: defaultStyle });\n        setErrorMessage('');\n    }, [defaultLabel, defaultStyle]);\n\n    const submit = (e) => {\n        e.preventDefault();\n        const message = cb(data.label, data.style);\n        if (message.ok) {\n            setErrorMessage('');\n            setData({ label: defaultLabel || '', style: defaultStyle });\n            closeModal();\n        } else setErrorMessage(message.err);\n    };\n\n    useEffect(() => {\n        if (createSourceClicked) {\n            createFile(superState, dispatcher);\n        }\n        if (editSourceClicked && element === null) {\n            toast.error('Respective file is not present in same directory');\n        } else if (element !== null) {\n            readTextFile(superState, dispatcher, element.fileObj, element.fileHandle);\n        }\n        setEditSourceClicked(false);\n        setCreateSourceClicked(false);\n    }, [createSourceClicked, editSourceClicked]);\n\n    useEffect(() => {\n        if (createHelpClicked) {\n            createFile(superState, dispatcher);\n        }\n        setCreateHelpClicked(false);\n    }, [createHelpClicked]);\n\n    const openFile = () => {\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const fname = data.label.split(':')[1];\n            superState.fileState.forEach((ele) => {\n                if (ele.key.split('/')[1] === fname || ele.key.split('/')[2] === fname) {\n                    setElement(ele);\n                }\n            });\n        }\n        if (submitText === 'Edit Node') {\n            setEditSourceClicked(true);\n        } else if (submitText === 'Create Node') {\n            setCreateSourceClicked(true);\n        }\n    };\n\n    const openDoc = () => {\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const docname1 = data.label.split(':')[1].split('.')[0].concat('.md');\n            const docname2 = data.label.split(':')[1].split('.')[0].concat('.txt');\n            superState.fileState.forEach((ele) => {\n                if (ele.key.split('/')[1] === docname1 || ele.key.split('/')[1] === docname2) {\n                    setElement(ele);\n                }\n            });\n        }\n        setCreateHelpClicked(true);\n    };\n\n    const openMarkDownDoc = async () => {\n        dispatcher({ type: T.SET_MARKDOWN_MODAL, payload: true });\n        setElement(null);\n        if (superState.fileState !== undefined && data.label !== '') {\n            const docname1 = data.label.split(':')[1].split('.')[0].concat('.md');\n            const matchingElement = superState.fileState.find((ele) => ele.key.split('/')[1] === docname1);\n            if (matchingElement) {\n                const fr = new FileReader();\n                fr.onload = (x) => {\n                    // eslint-disable-next-line max-len\n                    dispatcher({ type: T.SET_INPUT_FILE, payload: { content: x.target.result, fname: matchingElement.key.split('/')[1] } });\n                };\n                if (matchingElement.fileHandle) {\n                    fr.readAsText(await matchingElement.fileHandle.getFile());\n                } else if (matchingElement.fileObj) {\n                    fr.readAsText(matchingElement.fileObj);\n                }\n                setElement(matchingElement);\n            }\n        }\n    };\n\n    const createLibrary = (e) => {\n        const fileName = data.label.split(':')[1];\n        if (fileName === undefined || fileName === '') {\n            toast.error('Enter File Name');\n            return;\n        }\n        superState.curGraphInstance.library(fileName);\n        submit(e);\n    };\n\n    return (\n        <ParentModal closeModal={closeModal} ModelOpen={ModelOpen} title={title}>\n            <form onSubmit={submit}>\n                <div className=\"modal-content-body\">\n                    <Children data={data} setData={setData} labelAllowed={labelAllowed} state={superState} />\n                    {errorMessage ? <div className=\"err\">{errorMessage}</div> : <></>}\n                </div>\n                <div className=\"modal-footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\">{submitText}</button>\n                    { type === 'Node' ? (\n                        <>\n                            <button\n                                className=\"btn btn-primary\"\n                                type=\"button\"\n                                onClick={openFile}\n                            >\n                                { submitText === 'Edit Node' ? 'Edit Source' : 'Create Source' }\n                            </button>\n                            { title === 'Edit Node'\n                                ? (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={openMarkDownDoc}\n                                    >\n                                        Help\n                                    </button>\n                                ) : (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={openDoc}\n                                    >\n                                        Create Help\n                                    </button>\n                                )}\n                            { title === 'Edit Node'\n                                ? ''\n                                : (\n                                    <button\n                                        className=\"btn btn-primary\"\n                                        type=\"button\"\n                                        onClick={createLibrary}\n                                    >\n                                        Create Library\n                                    </button>\n                                )}\n                        </>\n                    ) : '' }\n                </div>\n            </form>\n        </ParentModal>\n    );\n};\nexport default ModalComp;\n","/* eslint-disable no-alert */\nimport {\n    FaSave, FaUndo, FaRedo, FaTrash, FaFileImport, FaPlus, FaDownload, FaEdit, FaRegTimesCircle, FaHistory,\n    FaHammer, FaBug, FaBomb, FaToggleOn, FaThermometerEmpty, FaTrashRestore, FaCogs, FaPencilAlt, FaTerminal,\n} from 'react-icons/fa';\n\nimport {\n    // FiChevronDown, FiChevronsDown, FiChevronsUp, FiChevronUp,\n    FiPlay, FiStopCircle, FiToggleLeft, FiTriangle,\n} from 'react-icons/fi';\n\nimport {\n    createNode, editElement, deleteElem, downloadImg, saveAction, saveGraphMLFile,\n    createFile, readFile, clearAll, undo, redo, viewHistory, resetAfterClear,\n    toggleServer, optionModalToggle, toggleLogs, contribute,\n    // openSettingModal,\n} from './toolbarFunctions';\n\nconst toolbarList = (state, dispatcher) => [\n    {\n        type: 'action',\n        text: 'Node',\n        icon: FaPlus,\n        action: createNode,\n        active: state.curGraphInstance,\n        visibility: true,\n        hotkey: 'Ctrl+G',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Create',\n        icon: FaPencilAlt,\n        action: createFile,\n        active: true,\n        visibility: true,\n    },\n    {\n        type: 'file-upload',\n        text: 'Open',\n        icon: FaFileImport,\n        action: readFile,\n        active: true,\n        visibility: true,\n        hotkey: 'Ctrl+O',\n    },\n    {\n        type: 'action',\n        text: 'Save',\n        icon: FaSave,\n        action: saveGraphMLFile,\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Save As',\n        icon: FaSave,\n        action: (s, d) => saveAction(s, d),\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Empty',\n        icon: FaThermometerEmpty,\n        action: clearAll,\n        active: state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Backspace',\n    },\n    {\n        type: 'action',\n        text: 'Restore',\n        icon: FaTrashRestore,\n        action: resetAfterClear,\n        active: state.curGraphInstance && state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+I',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Undo',\n        icon: FaUndo,\n        action: undo,\n        active: state.undoEnabled && state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Z',\n    },\n    {\n        type: 'action',\n        text: 'Redo',\n        icon: FaRedo,\n        action: redo,\n        active: state.redoEnabled && state.curGraphInstance && !state.resetEnabled,\n        visibility: true,\n        hotkey: 'Ctrl+Shift+Z,Ctrl+Y',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'Edit',\n        icon: FaEdit,\n        action: editElement,\n        active: state.curGraphInstance && state.eleSelected,\n        visibility: true,\n        hotkey: 'Ctrl+E',\n    },\n    {\n        type: 'action',\n        text: 'Delete',\n        icon: FaTrash,\n        action: () => deleteElem(state, dispatcher),\n        active: state.curGraphInstance && state.eleSelected,\n        visibility: true,\n        hotkey: 'Delete,Backspace,Del,Clear',\n    },\n    { type: 'vsep' },\n    {\n        type: 'action',\n        text: 'History',\n        icon: FaHistory,\n        action: viewHistory,\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    { type: 'vsep' },\n    // server buttons\n    {\n        type: 'action',\n        text: 'Logs',\n        icon: FaTerminal,\n        action: toggleLogs,\n        active: true,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Server',\n        icon: state.isWorkflowOnServer ? FaToggleOn : FiToggleLeft,\n        action: () => toggleServer(state, dispatcher),\n        active: state.curGraphInstance,\n        visibility: true,\n    },\n    {\n        type: 'action',\n        text: 'Options',\n        icon: FaCogs,\n        action: () => optionModalToggle(state, dispatcher),\n        active: state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Build',\n        icon: FaHammer,\n        action: () => state.curGraphInstance && state.curGraphInstance.build(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].built\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Debug',\n        icon: FaBug,\n        action: () => state.curGraphInstance && state.curGraphInstance.debug(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].debugged\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Run',\n        icon: FiPlay,\n        action: () => state.curGraphInstance && state.curGraphInstance.run(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].ran\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Clear',\n        icon: FaRegTimesCircle,\n        action: () => state.curGraphInstance && state.curGraphInstance.clear(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].cleared\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Stop',\n        icon: FiStopCircle,\n        action: () => state.curGraphInstance && state.curGraphInstance.stop(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].stopped\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n    {\n        type: 'action',\n        text: 'Destroy',\n        icon: FaBomb,\n        action: () => state.curGraphInstance && state.curGraphInstance.destroy(),\n        active: state.curGraphIndex !== -1\n            ? state.isWorkflowOnServer && state.graphs[state.curGraphIndex].destroyed\n            : state.isWorkflowOnServer,\n        visibility: state.isWorkflowOnServer && state.curGraphInstance,\n    },\n\n    // Not being implemented in version 1\n    // {\n    //     type: 'action',\n    //     text: 'Push',\n    //     icon: FiChevronUp,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.pushToServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Pull',\n    //     icon: FiChevronDown,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.pullFromServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Force Push',\n    //     icon: FiChevronsUp,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.forcePushToServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // {\n    //     type: 'action',\n    //     text: 'Force Pull',\n    //     icon: FiChevronsDown,\n    //     action: () => state.curGraphInstance && state.curGraphInstance.forcePullFromServer(),\n    //     active: state.curGraphInstance && state.isWorkflowOnServer,\n    // },\n    // { type: 'vsep' },\n    { type: 'space' },\n    // Not being implemented in version 1\n    // {\n    //     type: 'action',\n    //     text: 'Settings',\n    //     icon: FaRegSun,\n    //     action: openSettingModal,\n    //     active: true,\n    // },\n    {\n        type: 'action',\n        text: 'Contribute',\n        icon: FiTriangle,\n        action: contribute,\n        active: true,\n        visibility: true,\n    },\n    // {\n    //     type: 'action',\n    //     text: 'Share',\n    //     icon: FaShare,\n    //     action: openShareModal,\n    //     active: true,\n    //     visibility: true,\n    // },\n    {\n        type: state.curGraphInstance ? 'menu' : 'action',\n        text: 'Export',\n        icon: FaDownload,\n        action: (s, d) => [\n            { fn: () => downloadImg(s, d, 'JPG'), name: 'JPG' },\n            { fn: () => downloadImg(s, d, 'PNG'), name: 'PNG' },\n        ],\n        visibility: true,\n        active: state.curGraphInstance,\n    },\n    { type: 'vsep' },\n];\n\nexport default toolbarList;\n","import React from 'react';\nimport Switch from 'rc-switch';\nimport { Menu, MenuItem, MenuButton } from '@szhsin/react-menu';\n\nfunction DropDown({\n    Icon, text, action, active, visibility, tabIndex, hotkey,\n}) {\n    return (\n        <Menu menuButton={(\n            <MenuButton>\n                <ActionButton {...{\n                    Icon, text, action, active, visibility, tabIndex, hotkey,\n                }}\n                />\n            </MenuButton>\n        )}\n        >\n            {action().map(({ fn, name }) => <MenuItem onClick={fn} key={name}>{name}</MenuItem>)}\n        </Menu>\n    );\n}\n\nconst FileUploader = ({\n    Icon, text, active, visibility, tabIndex, hotkey, superState,\n}) => (\n    <ActionButton {...{\n        Icon, text, active, visibility, tabIndex, action: () => superState.fileRef.current.click(), hotkey,\n    }}\n    />\n);\n\nconst Switcher = ({\n    text, action, active, tabIndex,\n}) => (\n    <div\n        role=\"button\"\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={action}\n        onKeyDown={(ev) => ev.key === ' ' && action()}\n    >\n        <Switch\n            onChange={action}\n            checked={active}\n            className=\"react-switch\"\n        />\n        <div>\n            {text}\n        </div>\n    </div>\n);\n\nconst ActionButton = ({\n    Icon, text, action, active, visibility, tabIndex, hotkey,\n}) => (\n    <div\n        role=\"button\"\n        id={`action_${tabIndex}`}\n        tabIndex={tabIndex}\n        className={`tool ${active ? 'active' : ''}`}\n        onClick={() => (active && action())}\n        onKeyDown={(ev) => active && ev.key === ' ' && action()}\n        data-tip={hotkey ? hotkey.split(',')[0] : ''}\n        style={{ display: `${visibility ? '' : 'none'}` }}\n    >\n        <div className=\"icon\"><Icon size=\"20\" /></div>\n        <div style={{ fontSize: 14 }}>{text}</div>\n    </div>\n);\n\nconst TextBox = ({ children }) => (\n    <div className=\"tool\" style={{ width: 'auto' }}>\n        <div className=\"middle tool-text-only\" style={{ fontSize: 16, color: '#888', height: '100%' }}>\n            {children}\n        </div>\n    </div>\n);\n\nconst Vsep = () => <div className=\"Vsep sep\" />;\nconst Hsep = () => <div className=\"hsep sep\" />;\nconst Space = () => <div className=\"space\" />;\n\nexport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n};\n","/* eslint-disable react/jsx-props-no-spreading */\nimport React from 'react';\nimport hotkeys from 'hotkeys-js';\nimport toolbarList from '../toolbarActions/toolbarList';\nimport '@szhsin/react-menu/dist/index.css';\nimport './header.css';\nimport {\n    ActionButton, Vsep, Hsep, Space, TextBox, Switcher, DropDown, FileUploader,\n} from './HeaderComps';\nimport 'rc-switch/assets/index.css';\n// import ServerActions from './serverActions/ServerActions';\n\nconst setHotKeys = (actions) => {\n    let keys = '';\n    const map = {};\n    actions.forEach((action, i) => {\n        if (action.hotkey) {\n            action.hotkey.split(',').forEach((key) => {\n                [key, key.replace('Ctrl', 'Command')].forEach((k) => {\n                    keys += `${k},`;\n                    map[k] = document.getElementById(`action_${i + 1}`);\n                });\n            });\n        }\n    });\n    keys = keys.substring(0, keys.length - 1);\n    hotkeys(keys, (event, handler) => {\n        event.preventDefault();\n        map[handler.shortcut].click();\n    });\n};\n\nconst Header = ({ superState, dispatcher }) => {\n    const actions = toolbarList(superState, dispatcher);\n    React.useEffect(() => {\n        setHotKeys(actions, superState, dispatcher);\n    }, []);\n\n    return (\n        <header className=\"header\">\n            <section className=\"middle titlebar\">\n                {\n                    superState.curGraphInstance ? `${\n                        superState.curGraphInstance.projectName\n                    } - concore Editor` : 'untitled'\n                }\n            </section>\n            <section className=\"toolbar\">\n                {\n                    actions.map(({\n                        text, active, visibility, action, icon, type, hotkey,\n                    }, i) => {\n                        const props = {\n                            text,\n                            active,\n                            visibility,\n                            tabIndex: i + 1,\n                            key: text,\n                            action: (e) => action(superState, dispatcher, e),\n                            Icon: icon,\n                            hotkey,\n                        };\n                        switch (type) {\n                        case 'vsep': return <Vsep key={`${`v${i}`}`} />;\n                        case 'space': return <Space key={`${`s${i}`}`} />;\n                        case 'switch': return <Switcher {...props} />;\n                        case 'menu': return <DropDown {...props} />;\n                        case 'file-upload': return <FileUploader {...props} superState={superState} />;\n                        case 'action': return <ActionButton {...props} />;\n                        // case 'serverActions': return <ServerActions superState={superState} />;\n                        default: return <></>;\n                        }\n                    })\n                }\n            </section>\n            <Hsep />\n        </header>\n\n    );\n};\n\nexport {\n    Header, ActionButton, Vsep, Hsep, Space, TextBox,\n};\n","import React, { useEffect, useState, useCallback } from 'react';\nimport Modal from './ParentModal';\nimport './project-details.css';\nimport { actionType as T } from '../../reducer';\nimport localStorageManager from '../../graph-builder/local-storage-manager';\n\nconst ProjectDetails = ({ superState, dispatcher }) => {\n    const curGraph = superState.graphs[superState.curGraphIndex];\n    const [projectName, setProjectName] = useState('Untitled');\n    const [authorName, setAuthorName] = useState('Default');\n    // const [serverID, setServerID] = useState('');\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const { newGraphModal } = superState;\n    const editDetailsModal = superState.editDetailsModal || (curGraph && !curGraph.projectName);\n\n    useEffect(() => {\n        if (superState.editDetailsModal && curGraph) {\n            setProjectName(curGraph.projectName);\n            setAuthorName(curGraph.authorName);\n        } else {\n            setProjectName('');\n        }\n    }, [curGraph?.authorName, superState.editDetailsModal, curGraph]);\n\n    useEffect(() => {\n        if (curGraph?.authorName) {\n            setAuthorName(curGraph.authorName);\n        } else {\n            const authorNameE = localStorageManager.getAuthorName();\n            setAuthorName(authorNameE);\n        }\n    }, []);\n\n    const submit = (e) => {\n        e.preventDefault();\n        if (newGraphModal) dispatcher({ type: T.ADD_GRAPH, payload: { projectName, authorName } });\n        else if (editDetailsModal) {\n            superState.curGraphInstance.setProjectName(projectName);\n            superState.curGraphInstance.setProjectAuthor(authorName);\n            dispatcher({ type: T.SET_EDIT_DETAILS_MODAL, payload: false });\n        }\n        localStorageManager.saveAllgs();\n        localStorageManager.setAuthorName(authorName);\n    };\n\n    const openExisting = () => {\n        superState.fileRef.current.click();\n    };\n\n    const closeModal = () => {\n        if (superState.newGraphModal) dispatcher({ type: T.SET_NEW_GRAPH_MODAL, payload: false });\n        else if (superState.editDetailsModal) dispatcher({ type: T.SET_EDIT_DETAILS_MODAL, payload: false });\n    };\n    // const loadFromServer = () => {\n    //     dispatcher({ type: T.ADD_GRAPH, payload: { serverID } });\n    // };\n    const NewWorkflow = () => (\n        <>\n            {/* <div className=\"divider\" />\n            <input\n                placeholder=\"Enter the Server ID of Workflow\"\n                value={serverID}\n                onChange={(e) => setServerID(e.target.value)}\n                className=\"serverIDText\"\n            />\n            <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={loadFromServer}\n            >\n                Load From Server\n\n            </button> */}\n            <div className=\"divider\" />\n            <button\n                type=\"button\"\n                className=\"btn btn-secondary\"\n                onClick={openExisting}\n            >\n                Open Existing From GraphML File\n\n            </button>\n        </>\n    );\n\n    return (\n        <Modal\n            ModelOpen={newGraphModal || editDetailsModal}\n            closeModal={superState.editDetailsModal || superState.newGraphModal ? closeModal : null}\n            title=\"Project Details\"\n        >\n            <form className=\"proj-details\" onSubmit={submit}>\n                <span>Workflow Name</span>\n                <input\n                    ref={inputRef}\n                    placeholder=\"Title of workflow\"\n                    required\n                    value={projectName}\n                    onChange={(e) => setProjectName(e.target.value)}\n                />\n                <span>Author</span>\n                <input\n                    placeholder=\"Author of workflow\"\n                    value={authorName}\n                    onChange={(e) => setAuthorName(e.target.value)}\n                    required\n                />\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\">Save</button>\n                </div>\n                <div className=\"expand\">\n                    {newGraphModal && <NewWorkflow />}\n                </div>\n            </form>\n        </Modal>\n    );\n};\n\nexport default ProjectDetails;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './shareModal.css';\nimport { actionType as T } from '../../reducer';\n\nconst ShareModal = ({ superState, dispatcher }) => {\n    const [serializedGraph, setSerializedGraph] = useState('');\n    const [copyText, setCopyText] = useState('Copy');\n    const cond = superState.shareModal && superState.curGraphInstance;\n    useEffect(() => {\n        if (cond) {\n            setSerializedGraph(superState.curGraphInstance.serializeGraph());\n            setCopyText('Copy');\n        }\n    }, [cond]);\n\n    const closeModal = () => {\n        dispatcher({ type: T.SET_SHARE_MODAL, payload: false });\n    };\n    const link = `${window.location.protocol}//${window.location.host}${window.location.pathname}?g=${serializedGraph}`;\n    const copy = () => {\n        navigator.clipboard.writeText(link).then(() => {\n            setCopyText('Copied!');\n            document.getElementsByClassName('preDiv')[0].focus();\n            document.getElementsByClassName('preDiv')[0].select();\n        });\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.shareModal}\n            title=\"Shareable Link\"\n            closeModal={closeModal}\n        >\n            <div className=\"share-modal\">\n                <input readOnly className=\"preDiv\" value={link} />\n                <button onClick={copy} type=\"button\" className=\"copyBtn\">{copyText}</button>\n            </div>\n\n        </Modal>\n    );\n};\n\nexport default ShareModal;\n","import React from 'react';\nimport './codeEdit.css';\n\nconst CodeEdit = ({\n    pre, post, value, onChange, height, docString,\n}) => {\n    const inputRef = React.createRef();\n    const parseMD = (s) => s.split('**').map((e, i) => {\n        if (i % 2) return <span key={e}><b>{e}</b></span>;\n        return <span key={e}>{e}</span>;\n    });\n    return (\n        <div\n            className=\"textField\"\n            onClick={() => inputRef.current.focus()}\n            onKeyDown={() => inputRef.current.focus()}\n            role=\"textbox\"\n            tabIndex={0}\n        >\n            {docString\n                ? (\n                    <div className=\"docStr\">\n                        {parseMD(docString)}\n                    </div>\n                ) : <div />}\n            <br />\n            {pre\n                ? (\n                    <textarea\n                        className=\"preTextField\"\n                        value={pre}\n                        readOnly\n                        spellCheck=\"false\"\n                    />\n                ) : <div />}\n            <textarea\n                className=\"mainTextField\"\n                spellCheck=\"false\"\n                {...{ value, onChange }}\n                data-gramm_editor=\"false\"\n                style={{ height, width: '90vw' }}\n                ref={inputRef}\n            />\n            {post\n                ? (\n                    <textarea\n                        className=\"postTextField\"\n                        readOnly\n                        value={post}\n                        spellCheck=\"false\"\n                    />\n                ) : <div />}\n        </div>\n    );\n};\n\nexport default CodeEdit;\n","import React, { useState, useEffect } from 'react';\nimport Modal from './ParentModal';\nimport './settings.css';\nimport { actionType as T } from '../../reducer';\nimport CodeEdit from '../CodeEdit';\nimport { nodeValidatorFormat, edgeValidatorFormat } from '../../config/defaultValidators';\n\nconst SettingsModal = ({ superState, dispatcher }) => {\n    const [nodeValidator, setNodeValidator] = useState('');\n    const [edgeValidator, setEdgeValidator] = useState('');\n    const [errorMessage, setErrorMessage] = useState('');\n    useEffect(() => {\n        if (superState.curGraphInstance) {\n            setNodeValidator(superState.curGraphInstance.getNodeValidator());\n            setEdgeValidator(superState.curGraphInstance.getEdgeValidator());\n        }\n    }, [superState.curGraphInstance]);\n\n    const close = () => dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n    const submit = () => {\n        try {\n            superState.curGraphInstance.setEdgeNodeValidator({\n                nodeValidator: `(node, nodes, edges, type)=>{${nodeValidator}}`,\n                edgeValidator: `(edge, nodes, edges, type)=>{${edgeValidator}}`,\n            });\n            dispatcher({ type: T.SET_SETTING_MODAL, payload: false });\n            setErrorMessage('');\n        } catch (e) {\n            setErrorMessage(e.message);\n        }\n    };\n\n    return (\n        <Modal\n            ModelOpen={superState.settingsModal}\n            closeModal={close}\n            title=\"Settings\"\n        >\n            <div className=\"setting-container\">\n                <div>\n                    <h3>Node Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateNode(node, nodes, edges, type) {\"\n                        post=\"}\"\n                        value={nodeValidator}\n                        onChange={(e) => setNodeValidator(e.target.value)}\n                        height={200}\n                        docString={nodeValidatorFormat}\n                    />\n                </div>\n                <div>\n                    <h3>Edge  Validator</h3>\n                    <CodeEdit\n                        pre=\"function validateEdge(edge, nodes, edges, type) {\"\n                        post=\"}\"\n                        value={edgeValidator}\n                        onChange={(e) => setEdgeValidator(e.target.value)}\n                        height={200}\n                        docString={edgeValidatorFormat}\n                    />\n                </div>\n                <div className=\"error\">{errorMessage}</div>\n\n                <div className=\"footer\">\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default SettingsModal;\n","import React, { useEffect } from 'react';\nimport { FaFileImport } from 'react-icons/fa';\nimport './file-drag-drop.css';\nimport { actionType as T } from '../reducer';\nimport { readFile } from '../toolbarActions/toolbarFunctions';\n\nconst app = ({ superState, dispatcher }) => {\n    const fileRef = React.useRef();\n\n    useEffect(() => {\n        dispatcher({ type: T.SET_FILE_REF, payload: fileRef });\n        const p = document.getElementsByTagName('body')[0];\n        const c = document.getElementsByClassName('drag-drop-area')[0];\n        let cc = 0;\n        p.addEventListener('dragenter', (e) => {\n            e.preventDefault();\n            cc += 1;\n            if (cc === 1) c.classList.remove('hidden');\n        });\n        p.addEventListener('dragleave', (e) => {\n            e.preventDefault();\n            cc -= 1;\n            if (cc === 0) c.classList.add('hidden');\n        });\n\n        p.addEventListener('dragover', (e) => {\n            e.preventDefault();\n        });\n        ['dragend', 'dragexit', 'drop'].forEach((dragEvent) => {\n            p.addEventListener(dragEvent, (e) => {\n                e.preventDefault();\n                cc = 0;\n                c.classList.add('hidden');\n            });\n        });\n\n        p.addEventListener('drop', (e) => {\n            e.preventDefault();\n            fileRef.current.value = null;\n            if (e.dataTransfer.files.length === 1\n                && e.dataTransfer.files[0].name.split('.').slice(-1)[0] === 'graphml') {\n                readFile(superState, dispatcher, e.dataTransfer.files[0]);\n            }\n        });\n    }, []);\n    return (\n        <div className=\"drag-drop-area hidden\">\n            <div className=\"inner\">\n                <FaFileImport size={100} style={{ color: '#1e88e5' }} />\n                <div>\n                    <input\n                        type=\"file\"\n                        ref={fileRef}\n                        onClick={(e) => { e.target.value = null; }}\n                        style={{ display: 'none' }}\n                        accept=\".graphml\"\n                        onChange={(e) => readFile(superState, dispatcher, e)}\n                    />\n                    <span className=\"arrow\">&#10230;</span>\n                    <h1 className=\"text\">Drop the File anywhere to open</h1>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default app;\n","import React, { useEffect, useState } from 'react';\nimport Modal from './ParentModal';\nimport './settings.css';\nimport { actionType as T } from '../../reducer';\nimport GA from '../../graph-builder/graph-actions';\nimport './history.css';\n\nconst HistoryModal = ({ superState, dispatcher }) => {\n    const [curState, setcurState] = useState(0);\n    const [historyList, setHistoryList] = useState([]);\n    const [historyView, setHistoryView] = useState([]);\n    const actions = [\n        GA.ADD_NODE, GA.ADD_EDGE,\n        GA.UPDATE_NODE, GA.UPDATE_EDGE,\n        GA.DEL_NODE, GA.DEL_EDGE,\n        GA.SET_DIM, GA.SET_BENDW, GA.SET_POS,\n    ];\n    const mapActionToTrue = () => {\n        const res = {};\n        actions.forEach((action) => { res[action] = true; });\n        return res;\n    };\n    const [filterAction, setFilterAction] = useState(mapActionToTrue());\n\n    const getLabelFromID = (x) => {\n        if (superState.curGraphInstance) {\n            return superState.curGraphInstance.getLabelFromID(x);\n        }\n        return '';\n    };\n    useEffect(() => {\n        if (superState.curGraphInstance) {\n            setHistoryList([\n                ...superState.curGraphInstance.actionArr\n                    .slice().reverse().map((action, i) => ({ ...action, i })),\n            ]);\n            setcurState(\n                superState.curGraphInstance.actionArr.length\n                - superState.curGraphInstance.curActionIndex,\n            );\n        }\n    }, [superState.viewHistory, superState.graphs, superState.curGraphInstance, curState]);\n\n    const stringifyAction = (equivalent) => {\n        const par = equivalent.parameters;\n        switch (equivalent.actionName) {\n        case GA.ADD_NODE: return `Created new Node: ${par[0]}`;\n        case GA.ADD_EDGE: return `Created new Edge ${\n            getLabelFromID(par[0].id)\n        } between ${getLabelFromID(par[0].sourceID)} and ${getLabelFromID(par[0].targetID)}`;\n        case GA.UPDATE_NODE: return `Updated Label/Style for ${getLabelFromID(par[0])} node`;\n        case GA.UPDATE_EDGE: return `Updated Edge ${getLabelFromID(par[0])}`;\n        case GA.DEL_NODE: return `Deleted Node: ${getLabelFromID(par[0])}`;\n        case GA.DEL_EDGE: return `Deleted Edge: ${getLabelFromID(par[0])}`;\n        case GA.SET_POS: return `Moved node ${getLabelFromID(par[0])} on canvas`;\n        case GA.SET_DIM: return `Changed dimension of node ${getLabelFromID(par[0])}`;\n        case GA.SET_BENDW: return `Modified Bend Point of node ${getLabelFromID(par[0])}`;\n        default: return '';\n        }\n    };\n\n    const stringifyActionType = {\n        [GA.ADD_NODE]: 'NodeAddition:',\n        [GA.ADD_EDGE]: 'EdgeAddition',\n        [GA.UPDATE_NODE]: 'NodeUpdates',\n        [GA.UPDATE_EDGE]: 'EdgeUpdates',\n        [GA.DEL_NODE]: 'NodeDeletion',\n        [GA.DEL_EDGE]: 'EdgeDeletion',\n        [GA.SET_POS]: 'NodePosChange',\n        [GA.SET_DIM]: 'NodeDimensionChange',\n        [GA.SET_BENDW]: 'EdgeBend',\n    };\n\n    const restoreState = (index) => {\n        // eslint-disable-next-line no-alert\n        if (window.confirm('Are you sure to restore the selected state?')) {\n            let tempCurState = curState;\n            while (index > tempCurState) {\n                superState.curGraphInstance.undoSingleAction();\n                tempCurState += 1;\n            }\n            while (index < tempCurState) {\n                superState.curGraphInstance.redoSingleAction();\n                tempCurState -= 1;\n            }\n            setcurState(tempCurState);\n        }\n    };\n    const prefixTid = (tid, str, authorName, index, hash) => {\n        const DT = new Date(parseInt(tid, 10));\n        const date = DT.toLocaleDateString();\n        const time = DT.toLocaleTimeString();\n        const c = (\n            <>\n                <td>\n                    {\n                        index === curState ? '[Current]' : (\n                            <button className=\"a-link\" type=\"button\" onClick={() => restoreState(index)}>\n                                [Restore]\n                            </button>\n                        )\n                    }\n                </td>\n                <td>{`${date}-${time}`}</td>\n                <td>\n                    [\n                    <b>{`${authorName}`}</b>\n                    ]\n                </td>\n                <td style={{ fontWeight: 100 }}>{str}</td>\n                <td style={{ fontWeight: 100 }}>{hash}</td>\n            </>\n        );\n        // if (index === curState) return <u>{c}</u>;\n        return c;\n    };\n\n    const parseAction = ({\n        equivalent, tid, i, authorName, hash,\n    }) => prefixTid(\n        tid, stringifyAction(equivalent), authorName, i, hash,\n    );\n\n    useEffect(() => {\n        setHistoryView(historyList.filter((action) => filterAction[action.equivalent.actionName]).map(parseAction));\n    }, [filterAction, historyList]);\n\n    const close = () => dispatcher({ type: T.SET_HISTORY_MODAL, payload: false });\n    return (\n        <Modal\n            ModelOpen={superState.viewHistory}\n            closeModal={close}\n            title=\"History\"\n        >\n            <div className=\"hist-container\">\n                <fieldset>\n                    <legend>Filters</legend>\n                    {\n                        actions.map((action) => (\n                            <label htmlFor={action} className=\"filter_checkbox\" key={action}>\n                                <input\n                                    type=\"checkbox\"\n                                    name=\"filter\"\n                                    checked={filterAction[action]}\n                                    onChange={() => setFilterAction({\n                                        ...filterAction,\n                                        [action]: !filterAction[action],\n                                    })}\n                                />\n                                {stringifyActionType[action]}\n                            </label>\n                        ))\n                    }\n                </fieldset>\n                <div className=\"hist-list\">\n                    <table style={{ listStyleType: 'circle' }}>\n                        <tbody>\n                            {historyView.map((h, i) => (\n                                <tr\n                                    className={`hist-element ${i === curState ? 'active' : ''}`}\n                                    // eslint-disable-next-line react/no-array-index-key\n                                    key={i}\n                                >\n                                    {h}\n                                </tr>\n                            ))}\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default HistoryModal;\n","/* eslint-disable object-shorthand */\n/* eslint-disable react/destructuring-assignment */\n/* eslint-disable array-callback-return */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/state-in-constructor */\nimport React, { useEffect, useState } from 'react';\nimport FileBrowser, { FileRenderers, FolderRenderers } from 'react-keyed-file-browser';\nimport { readFile, readTextFile } from '../toolbarActions/toolbarFunctions';\nimport { actionType as T } from '../reducer';\nimport './fileBrowser.css';\n\nconst LocalFileBrowser = ({ superState, dispatcher }) => {\n    const fileRef = React.useRef();\n    const [dirButton, setDirButton] = useState(false);\n    const [fileState, setFileState] = useState([]);\n\n    useEffect(() => {\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            setDirButton(true);\n        }\n        dispatcher({ type: T.SET_FILE_REF, payload: fileRef });\n    }, []);\n\n    useEffect(() => {\n        // TODO - Loading file list from localStorage. Not supported by browsers.\n        // if(window.localStorage.getItem('fileList')) {\n        //     const allFiles = window.localStorage.getItem('fileList');\n        //     setFileState({ files: allFiles });\n        // }\n        window.localStorage.setItem('fileList', JSON.stringify(fileState));\n    }, [fileState]);\n\n    useEffect(() => {\n        setFileState(superState.fileState);\n    }, [superState.fileState]);\n\n    const handleSelectFile = (data) => {\n        const fileExtensions = ['jpeg', 'jpg', 'png', 'exe'];\n        if (fileExtensions.includes(data.fileObj.name.split('.').pop())) {\n            // eslint-disable-next-line no-alert\n            alert('Wrong file extension');\n            return;\n        }\n\n        if (data.fileObj.name.split('.').pop() === 'graphml') {\n            let foundi = -1;\n            superState.graphs.forEach((g, i) => {\n                if ((g.fileName === data.fileObj.name)) {\n                    foundi = i;\n                }\n            });\n            if (foundi !== -1) {\n                dispatcher({ type: T.CHANGE_TAB, payload: foundi });\n            } else {\n                readFile(superState, dispatcher, data.fileObj, data.fileHandle);\n            }\n        } else {\n            readTextFile(superState, dispatcher, data.fileObj, data.fileHandle);\n        }\n    };\n\n    const handleFileInDirs = async (topKey, value) => {\n        let topLevel = topKey;\n        let state = [];\n        // eslint-disable-next-line no-restricted-syntax\n        for await (const [key, valueSubDir] of value.entries()) {\n            if (valueSubDir.kind === 'file') {\n                const fileData = await valueSubDir.getFile();\n                state = state.concat([{\n                    key: `${topKey}/${value.name}/${key}`,\n                    modified: fileData.lastModified,\n                    size: fileData.size,\n                    fileObj: fileData,\n                    fileHandle: valueSubDir,\n                }]);\n            } else if (valueSubDir.kind === 'directory') {\n                topLevel = `${topKey}/${value.name}`;\n                const res = await handleFileInDirs(topLevel, valueSubDir);\n                state = state.concat(res);\n            }\n        }\n        return state;\n    };\n\n    const newFeature = async () => {\n        const dirHandle = await window.showDirectoryPicker();\n        let state = [];\n        // eslint-disable-next-line no-restricted-syntax\n        for await (const [key, value] of dirHandle.entries()) {\n            if (value.kind === 'file') {\n                const fileData = await value.getFile();\n                state = state.concat([{\n                    key: `${dirHandle.name}/${key}`,\n                    modified: fileData.lastModified,\n                    size: fileData.size,\n                    fileObj: fileData,\n                    fileHandle: value,\n                }]);\n            } else if (value.kind === 'directory') {\n                const res = await handleFileInDirs(dirHandle.name, value);\n                state = state.concat(res);\n            }\n        }\n        setFileState([]);\n        setFileState(state);\n        dispatcher({ type: T.SET_DIR_NAME, payload: state[0].key.split('/')[0] });\n        dispatcher({ type: T.SET_FILE_STATE, payload: state });\n    };\n\n    const newFeatureFile = async () => {\n        const pickerOpts = {\n            types: [\n                {\n                    description: 'Graphml',\n                    accept: {\n                        'text/graphml': ['.graphml'],\n                    },\n                },\n            ],\n            excludeAcceptAllOption: true,\n            multiple: false,\n        };\n\n        const [fileHandle] = await window.showOpenFilePicker(pickerOpts);\n        const fileObj = await fileHandle.getFile();\n        readFile(superState, dispatcher, fileObj, fileHandle);\n    };\n\n    return (\n        <div>\n            {!dirButton && (\n                <label\n                    className=\"inputButton\"\n                    htmlFor=\"fileButton\"\n                >\n                    Upload Directory\n                    <input\n                        type=\"file\"\n                        accept=\".py, .m, .c, .cpp, .v, .sh\"\n                        id=\"fileButton\"\n                        style={{ display: 'none' }}\n                        onClick={(e) => { e.target.value = null; }}\n                        onChange={(e) => {\n                            setFileState([]);\n                            setFileState((state) => {\n                                for (let i = 0; i < e.target.files.length; i += 1) {\n                                    state = state.concat([{\n                                        key: e.target.files[i].webkitRelativePath,\n                                        modified: e.target.files[i].lastModified,\n                                        size: e.target.files[i].size,\n                                        fileObj: e.target.files[i],\n                                    }]);\n                                }\n                                return state;\n                            });\n                            window.localStorage.setItem('fileList', JSON.stringify(fileState));\n                        }}\n                        directory\n                        webkitdirectory=\"true\"\n                    />\n                </label>\n            ) }\n            {dirButton && (\n                <button\n                    type=\"button\"\n                    className=\"inputButton\"\n                    disabled={!dirButton}\n                    onClick={newFeature}\n                >\n                    Upload Directory\n                </button>\n            )}\n            {!dirButton\n                && (\n                    <input\n                        type=\"file\"\n                        ref={fileRef}\n                        onClick={(e) => { e.target.value = null; }}\n                        style={{ display: 'none' }}\n                        accept=\".graphml\"\n                        onChange={(e) => readFile(superState, dispatcher, e.target.files[0])}\n                    />\n                )}\n            {dirButton\n                && (\n                    <button\n                        type=\"button\"\n                        ref={fileRef}\n                        className=\"inputButton\"\n                        disabled={!dirButton}\n                        style={{ display: 'none' }}\n                        onClick={newFeatureFile}\n                        label=\"File Upload\"\n                    />\n                    // <input\n                    //     type=\"file\"\n                    //     ref={fileRef}\n                    //     onClick={(e) => { e.target.value = null; }}\n                    //     style={{ display: 'none' }}\n                    //     accept=\".graphml\"\n                    //     onChange={(e) => readFile(superState, dispatcher, e.target.files[0])}\n                    // />\n                )}\n            <h4>\n                Folder Name :\n                {' '}\n                {fileState[0] ? fileState[0].key.split('/')[0] : '' }\n            </h4>\n            <FileBrowser\n                files={fileState}\n                onSelectFile={handleSelectFile}\n                detailRenderer={() => null}\n                fileRenderer={FileRenderers.TableFile}\n                folderRenderer={FolderRenderers.TableFolder}\n            />\n        </div>\n    );\n};\nexport default LocalFileBrowser;\n","import React, { useState, useEffect } from 'react';\nimport Editor from 'react-simple-code-editor';\nimport { highlight, languages } from 'prismjs/components/prism-core';\nimport { saveAs } from 'file-saver';\nimport Modal from './ParentModal';\nimport './file-edit.css';\nimport 'prismjs/components/prism-bash';\nimport 'prismjs/components/prism-clike';\nimport 'prismjs/components/prism-c';\nimport 'prismjs/components/prism-cpp';\nimport 'prismjs/components/prism-matlab';\nimport 'prismjs/components/prism-verilog';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-javascript';\nimport 'prismjs/themes/prism.css';\nimport { actionType as T } from '../../reducer';\n\nconst FileEditModal = ({ superState, dispatcher }) => {\n    const [codeStuff, setCodeStuff] = useState('');\n    const [fileName, setFileName] = useState('');\n    const [dirButton, setDirButton] = useState(false);\n\n    useEffect(() => {\n        if (navigator.userAgent.indexOf('Edg') !== -1 || navigator.userAgent.indexOf('Chrome') !== -1) {\n            setDirButton(true);\n        }\n    }, []);\n\n    const close = () => {\n        dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n        setCodeStuff('');\n        setFileName('');\n    };\n\n    async function submit() {\n        if (superState.fileHandle) {\n            const stream = await superState.fileHandle.createWritable();\n            await stream.write(codeStuff);\n            await stream.close();\n        } else {\n            // eslint-disable-next-line no-alert\n            alert('Switch to Edge/Chrome!');\n        }\n        dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n    }\n\n    async function saveAsSubmit() {\n        const handle = await window.showSaveFilePicker();\n        const stream = await handle.createWritable();\n        await stream.write(codeStuff);\n        await stream.close();\n        const fileData = await handle.getFile();\n        let fS = superState.fileState;\n        fS = fS.concat([{\n            key: `${superState.uploadedDirName}/${handle.name}`,\n            modified: fileData.lastModified,\n            size: fileData.size,\n            fileObj: fileData,\n            fileHandle: handle,\n        }]);\n        dispatcher({ type: T.SET_FILE_STATE, payload: fS });\n        // dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n    }\n\n    async function saveSubmit() {\n        // eslint-disable-next-line no-alert\n        const newFileName = prompt('Filename:');\n        const bytes = new TextEncoder().encode(codeStuff);\n        const blob = new Blob([bytes], { type: 'application/json;charset=utf-8' });\n        saveAs(blob, newFileName);\n        // dispatcher({ type: T.EDIT_TEXTFILE, payload: { show: false } });\n    }\n\n    useEffect(async () => {\n        if (superState.fileObj) {\n            setFileName(superState.fileObj.name);\n            const fr = new FileReader();\n            fr.onload = (x) => {\n                setCodeStuff(x.target.result);\n            };\n            if (superState.fileHandle) fr.readAsText(await superState.fileHandle.getFile());\n            else fr.readAsText(superState.fileObj);\n        }\n    }, [superState.fileObj]);\n\n    function highlightSyntax(code) {\n        const extensions = ['v', 'c', 'h', 'hpp', 'cpp', 'py', 'm', 'sh'];\n        const fileEx = fileName.split('.').pop();\n        if (extensions.includes(fileEx)) {\n            switch (fileEx) {\n            case 'v': return highlight(code, languages.verilog, 'verilog');\n            case 'c': return highlight(code, languages.c, 'c');\n            case 'h': return highlight(code, languages.c, 'c');\n            case 'hpp': return highlight(code, languages.c, 'c');\n            case 'cpp': return highlight(code, languages.cpp, 'cpp');\n            case 'py': return highlight(code, languages.python, 'python');\n            case 'm': return highlight(code, languages.matlab, 'matlab');\n            case 'sh': return highlight(code, languages.bash, 'bash');\n            default: return highlight(code, languages.plaintext);\n            }\n        }\n        return highlight(code, languages.plaintext);\n    }\n\n    return (\n        <Modal\n            ModelOpen={superState.textFileModal}\n            closeModal={close}\n            title={fileName}\n        >\n            <div>\n                <div className=\"save-bar\">\n                    {fileName\n                        && (\n                            <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                        )}\n                    {dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={saveAsSubmit}>\n                            Save\n                            {fileName ? ' As' : ''}\n                        </button>\n                    )}\n                    {!dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={saveSubmit}>Save As</button>\n                    )}\n                </div>\n                <div className=\"setting-container\">\n                    <Editor\n                        value={codeStuff}\n                        onValueChange={(e) => setCodeStuff(e)}\n                        highlight={(code) => highlightSyntax(code)}\n                        padding={10}\n                        style={{\n                            fontFamily: '\"Arial\", \"Helvetica\", sans-serif',\n                            fontSize: 16,\n                            minHeight: '100vh',\n                            minWidth: '90vw',\n                            border: '1px solid black',\n                        }}\n                    />\n                </div>\n                <div className=\"save-bar\">\n                    {fileName\n                        && (\n                            <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Save</button>\n                        )}\n                    {dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={saveAsSubmit}>Save As</button>\n                    )}\n                    {!dirButton && (\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={saveSubmit}>Save As</button>\n                    )}\n                </div>\n            </div>\n        </Modal>\n    );\n};\n\nexport default FileEditModal;\n","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport ParentModal from './ParentModal';\nimport { actionType as T } from '../../reducer';\n\nconst MarkDown = ({ superState, dispatcher }) => {\n    const close = () => {\n        dispatcher({ type: T.SET_MARKDOWN_MODAL, payload: false });\n        dispatcher({ type: T.SET_INPUT_FILE, payload: { inputFile: '', fname: '' } });\n    };\n    return (\n        <ParentModal closeModal={close} ModelOpen={superState.markDownModal} title={superState.inputFileName}>\n            <ReactMarkdown>{superState.inputFile}</ReactMarkdown>\n        </ParentModal>\n    );\n};\n\nexport default MarkDown;\n","import React, { useState } from 'react';\nimport ParentModal from './ParentModal';\nimport { actionType as T } from '../../reducer';\nimport './optionsModal.css';\n\nconst OptionsModal = ({ superState, dispatcher }) => {\n    const [unlock, setUnlock] = useState(false);\n    const [docker, setDocker] = useState(false);\n    const [octave, setOctave] = useState(false);\n    const [param, setParam] = useState('');\n    const [maxT, setmaxT] = useState('');\n    const [library, setLibrary] = useState('');\n    const close = () => {\n        dispatcher({ type: T.SET_OPTIONS_MODAL, payload: false });\n        dispatcher(\n            {\n                type: T.SET_OPTIONS,\n                payload: {\n                    unlock,\n                    docker,\n                    maxT,\n                    param,\n                    octave,\n                    library,\n                },\n            },\n        );\n    };\n\n    const handleDockerChange = () => {\n        setDocker(!docker);\n    };\n    const handleOctaveChange = () => {\n        setOctave(!octave);\n    };\n    const handleUnlockChange = () => {\n        setUnlock(!unlock);\n    };\n    const handleParamsChange = (e) => {\n        setParam(e.target.value);\n    };\n    const handleMaxtimeChange = (e) => {\n        setmaxT(e.target.value);\n    };\n    const handleLibraryChange = (e) => {\n        setLibrary(e.target.value);\n    };\n\n    const Options = 'Options';\n    return (\n        <ParentModal closeModal={close} ModelOpen={superState.optionsModal} title={Options}>\n            <div className=\"main-div\">\n                <label htmlFor=\"Docker\">\n                    Docker\n                    <input type=\"checkbox\" checked={docker} onChange={handleDockerChange} />\n                </label>\n                <label htmlFor=\"Octave\" className=\"main-div-comp\">\n                    Octave\n                    <input type=\"checkbox\" checked={octave} onChange={handleOctaveChange} />\n                </label>\n                <label htmlFor=\"Unlock\" className=\"main-div-comp\">\n                    Unlock\n                    <input type=\"checkbox\" checked={unlock} onChange={handleUnlockChange} />\n                </label>\n                <label htmlFor=\"Maxtime\" className=\"main-div-comp\">\n                    Max Time:&nbsp;\n                    <input\n                        type=\"text\"\n                        value={maxT}\n                        placeholder=\"Enter Maximum Time\"\n                        onChange={(e) => {\n                            handleMaxtimeChange(e);\n                        }}\n                    />\n                </label>\n                <br />\n                <br />\n                <span>Library Path:&nbsp;&nbsp;</span>\n                <label htmlFor=\"librarypath\">\n                    <input\n                        size=\"59\"\n                        type=\"text\"\n                        value={library}\n                        placeholder=\"Enter library path\"\n                        onChange={(e) => {\n                            handleLibraryChange(e);\n                        }}\n                    />\n                </label>\n\n                <br />\n                <br />\n                <span>Params:</span>\n                <br />\n                <textarea\n                    cols=\"80\"\n                    rows=\"10\"\n                    value={param}\n                    onChange={(e) => {\n                        handleParamsChange(e);\n                    }}\n                />\n            </div>\n        </ParentModal>\n    );\n};\n\nexport default OptionsModal;\n","import React, { useState, useEffect } from 'react';\nimport './logs.css';\nimport { actionType as T } from '../reducer';\n\nconst Logs = ({ superState, dispatcher }) => {\n    const [output, setOutput] = useState('');\n\n    const clearTerminal = () => {\n        setOutput('');\n        dispatcher({ type: T.SET_LOGS_MESSAGE, payload: '' });\n    };\n\n    const closeTerminal = () => {\n        dispatcher({ type: T.SET_LOGS, payload: false });\n    };\n\n    useEffect(() => {\n        if (superState.logs) {\n            document.getElementById('terminal').style.display = 'block';\n            setOutput(superState.logsmessage);\n        } else {\n            document.getElementById('terminal').style.display = 'none';\n            setOutput(superState.logsmessage);\n        }\n    }, [superState.logs]);\n\n    return (\n        <>\n            <div className=\"terminal\" id=\"terminal\">\n                <div className=\"terminal-header\">\n                    Logs\n                    <button type=\"button\" className=\"clear\" onClick={clearTerminal}>Clear</button>\n                    <button type=\"button\" className=\"closelogs\" onClick={closeTerminal}>X</button>\n                </div>\n                <div className=\"terminal-body\">\n                    {output.split('\\n').map((line) => (\n                        <div className=\"terminal-line\">\n                            {line}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Logs;\n","import React, { useState } from 'react';\nimport { toast } from 'react-toastify';\nimport axios from 'axios';\nimport Modal from './ParentModal';\nimport { actionType as T } from '../../reducer';\nimport './contributeDetails.css';\n\nconst ContributeDetails = ({ superState, dispatcher }) => {\n    const closeModal = () => {\n        dispatcher({ type: T.SET_CONTRIBUTE_MODAL, payload: false });\n    };\n    const [study, setStudy] = useState('');\n    const [path, setPath] = useState('');\n    const [auth, setAuth] = useState('');\n    const [title, setTitle] = useState('');\n    const [desc, setDesc] = useState('');\n    const [branch, setBranch] = useState('');\n    const [showAdvanceOptions, setShowAdvanceOptions] = useState(false);\n    const submit = async (e) => {\n        if (study === '' || path === '' || auth === '') {\n            toast.info('Please Provide necessary inputs');\n            return;\n        }\n        const id = toast.loading('Processing your Request.Please wait...');\n        try {\n            e.preventDefault();\n            const result = await axios.post('http://127.0.0.1:5000/contribute', {\n                study,\n                auth,\n                desc,\n                title,\n                path,\n                branch,\n            });\n            toast.success(result.data?.message);\n        } catch (error) {\n            if (error?.response?.status === 400) {\n                toast.info(error?.response?.data?.message);\n            } else {\n                toast.error(error?.response.data.message);\n            }\n        }\n        toast.dismiss(id);\n        closeModal();\n    };\n    const toggleOptions = () => {\n        setShowAdvanceOptions(!showAdvanceOptions);\n    };\n    return (\n        <Modal\n            ModelOpen={superState.contributeModal}\n            title=\"Contribute\"\n            closeModal={closeModal}\n        >\n            <form className=\"contribute-details\">\n                <span>Study Name</span>\n                <input\n                    required\n                    value={study}\n                    onChange={(e) => setStudy(e.target.value)}\n                />\n                <span>Study Path</span>\n                <input\n                    placeholder=\"Enter Full Directory Path of Study\"\n                    value={path}\n                    onChange={(e) => setPath(e.target.value)}\n                    required\n                />\n                <span>Author Name</span>\n                <input\n                    value={auth}\n                    onChange={(e) => setAuth(e.target.value)}\n                    required\n                />\n                {showAdvanceOptions && (\n                    <>\n                        <span>Branch Name</span>\n                        <input\n                            value={branch}\n                            onChange={(e) => setBranch(e.target.value)}\n                        />\n                        <span>Title of Study</span>\n                        <input\n                            value={title}\n                            onChange={(e) => setTitle(e.target.value)}\n                        />\n                        <span>Description of Study</span>\n                        <textarea\n                            value={desc}\n                            onChange={(e) => setDesc(e.target.value)}\n                        />\n                    </>\n                )}\n                <button type=\"button\" className=\"btn btn-secondary\" onClick={toggleOptions}>\n                    {showAdvanceOptions ? 'Hide ' : 'Show '}\n                    Advance Options\n                </button>\n                <div className=\"expand\">\n                    <button type=\"submit\" className=\"btn btn-primary\" onClick={submit}>Generate PR</button>\n                </div>\n            </form>\n        </Modal>\n    );\n};\nexport default ContributeDetails;\n","import React, { useEffect, useReducer } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './App.css';\nimport ReactTooltip from 'react-tooltip';\nimport GraphWorkspace from './GraphWorkspace';\nimport GraphCompDetails from './component/modals/GraphCompDetails';\nimport { Header } from './component/Header';\nimport { reducer, initialState, actionType as T } from './reducer';\nimport ProjectDetails from './component/modals/ProjectDetails';\nimport ShareModal from './component/modals/ShareModal';\nimport SettingsModal from './component/modals/Settings';\nimport FileDragDrop from './component/File-drag-drop';\nimport HistoryModal from './component/modals/History';\nimport LocalFileBrowser from './component/fileBrowser';\nimport FileEditModal from './component/modals/FileEdit';\nimport MarkDown from './component/modals/markDown';\nimport OptionsModal from './component/modals/OptionsModal';\nimport Logs from './component/Logs';\nimport ContributeDetails from './component/modals/ContributeDetails';\n\nconst app = () => {\n    const [superState, dispatcher] = useReducer(reducer, initialState);\n    useEffect(() => {\n        const handleBeforeUnload = (e) => {\n            e.returnValue = 'Are you sure you want to leave this page?';\n            return 'Are you sure you want to leave this page?';\n        };\n        window.onbeforeunload = handleBeforeUnload;\n        return () => {\n            window.onbeforeunload = null;\n        };\n    }, []);\n    return (\n        <div className=\"container\">\n            <ProjectDetails superState={superState} dispatcher={dispatcher} />\n            <ShareModal superState={superState} dispatcher={dispatcher} />\n            <SettingsModal superState={superState} dispatcher={dispatcher} />\n            <HistoryModal superState={superState} dispatcher={dispatcher} />\n            <ContributeDetails superState={superState} dispatcher={dispatcher} />\n            <FileEditModal superState={superState} dispatcher={dispatcher} />\n            <OptionsModal superState={superState} dispatcher={dispatcher} />\n            <GraphCompDetails\n                closeModal={() => dispatcher({ type: T.Model_Close })}\n                superState={superState}\n                dispatcher={dispatcher}\n            />\n            <Logs superState={superState} dispatcher={dispatcher} />\n            <MarkDown superState={superState} dispatcher={dispatcher} />\n            <FileDragDrop dispatcher={dispatcher} />\n            <Header superState={superState} dispatcher={dispatcher} />\n            <section className=\"body\" style={{ display: 'flex', overflow: 'hidden' }}>\n                <div style={{ display: 'flex', overflow: 'auto' }}>\n                    <LocalFileBrowser superState={superState} dispatcher={dispatcher} />\n                </div>\n                <div className=\"graph\" style={{ display: 'flex', overflow: 'hidden' }}>\n                    <GraphWorkspace dispatcher={dispatcher} superState={superState} />\n                </div>\n            </section>\n            <ReactTooltip place=\"bottom\" type=\"dark\" effect=\"solid\" />\n            <ToastContainer position=\"bottom-left\" autoClose={8000} pauseOnHover={false} />\n        </div>\n    );\n};\n\nexport default app;\n","/* eslint-disable */\n// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","const reportWebVitals = (onPerfEntry) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(({\n            getCLS, getFID, getFCP, getLCP, getTTFB,\n        }) => {\n            getCLS(onPerfEntry);\n            getFID(onPerfEntry);\n            getFCP(onPerfEntry);\n            getLCP(onPerfEntry);\n            getTTFB(onPerfEntry);\n        });\n    }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.unregister();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","const BendingDistanceWeight = {\n\n    dist: (A, B) => (((A.x - B.x) ** 2 + (A.y - B.y) ** 2) ** 0.5),\n\n    rotate: (P, Q) => ({\n        x: P.x * Math.cos(Q) - P.y * Math.sin(Q),\n        y: P.x * Math.sin(Q) + P.y * Math.cos(Q),\n    }),\n\n    extraRad: (A, B) => (((A.x >= B.x && A.y > B.y) || (A.x >= B.x && A.y < B.y)) ? Math.PI : 0),\n\n    getRadian(tanQ, A, B) {\n        return (Math.atan(tanQ) - this.extraRad(A, B) + 2 * Math.PI) % (2 * Math.PI);\n    },\n\n    getCoordinate(w, d, A, B) {\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const D = this.dist(A, B) * w;\n        const P = { x: D, y: d };\n        const { x, y } = this.rotate(P, Q);\n        return { x: x + A.x, y: y + A.y };\n    },\n\n    getWeightDistance(p, A, B) {\n        const P = { x: p.x - A.x, y: p.y - A.y };\n        const tanQ = (A.y - B.y) / (A.x - B.x);\n        const Q = this.getRadian(tanQ, A, B);\n        const { x, y } = this.rotate(P, -Q);\n        const d = this.dist(A, B);\n        return { d: y, w: x / d };\n    },\n};\n\nexport default BendingDistanceWeight;\n","const style = [\n    {\n        selector: '*',\n        style: {\n            overlayOpacity: '0',\n        },\n    },\n    {\n        selector: 'node[type = \"ordin\"]',\n        style: {\n            content: 'data(label)',\n            zIndex: 100,\n            width: 'data(style.width)',\n            height: 'data(style.height)',\n            shape: 'data(style.shape)',\n            opacity: 'data(style.opacity)',\n            backgroundColor: 'data(style.backgroundColor)',\n            borderColor: 'data(style.borderColor)',\n            borderWidth: 'data(style.borderWidth)',\n            textValign: 'center',\n            textHalign: 'center',\n        },\n    },\n    {\n        selector: 'node[type=\"special\"]',\n        style: {\n            width: 8,\n            height: 8,\n            backgroundColor: 'data(style.backgroundColor)',\n            zIndex: 1000,\n        },\n    },\n\n    {\n        selector: 'edge',\n        style: {\n            curveStyle: 'bezier',\n            targetArrowShape: 'triangle',\n        },\n    },\n    {\n        selector: 'edge[type = \"ordin\"]',\n        style: {\n            width: 'data(style.thickness)',\n            lineColor: 'data(style.backgroundColor)',\n            targetArrowColor: 'data(style.backgroundColor)',\n            curveStyle: 'segments',\n            segmentDistances: 'data(bendData.bendDistance)',\n            segmentWeights: 'data(bendData.bendWeight)',\n            edgeDistances: 'node-position',\n            lineStyle: 'data(style.shape)',\n        },\n    },\n    {\n        selector: 'edge[label]',\n        style: {\n            label: 'data(label)',\n            edgeTextRotation: 'autorotate',\n            zIndex: 999,\n            textBackgroundOpacity: 1,\n            color: '#000',\n            textBackgroundColor: '#fff',\n            textBackgroundShape: 'roundrectangle',\n            textBorderColor: '#fff',\n            textBorderWidth: 2,\n            textBorderOpacity: 1,\n        },\n    },\n    {\n        selector: '.hidden',\n        style: {\n            display: 'none',\n        },\n    },\n    {\n        selector: '.eh-handle,node[type=\"bend\"]',\n        style: {\n            height: 25,\n            width: 25,\n            opacity: 0.4,\n            borderWidth: 5,\n            borderOpacity: 0.1,\n        },\n    },\n    {\n        selector: 'node[type=\"bend\"]',\n        style: {\n            backgroundColor: '#9575cd',\n        },\n    },\n    {\n        selector: '.eh-handle',\n        style: {\n            backgroundColor: '#f50057',\n        },\n    },\n    {\n        selector: ':selected',\n        style: {\n            overlayColor: '#000',\n            overlayOpacity: 0.1,\n            overlayPadding: 5,\n        },\n    },\n\n];\n\nexport default style;\n","import style from './cytoscape-style';\n\nconst options = {\n    style: [...style],\n    zoomingEnabled: true,\n    userZoomingEnabled: true,\n    minZoom: 0.25,\n    maxZoom: 5,\n};\n\nexport default options;\n","const zealit = require('zealit');\n\nconst actionType = {\n    $$typeof: '',\n    Model_Open_Create_Node: 'OpenModal_CreateNode',\n    Model_Open_Create_Edge: 'OpenModal_CreateEdge',\n    Model_Open_Update_Edge: 'OpenModal_UpdateEdge',\n    Model_Open_Update_Node: 'OpenModal_UpdateNode',\n    Model_Close: 'CloseModal',\n    ELE_UNSELECTED: 'ELE_UNSELECTED',\n    ELE_SELECTED: 'ELE_SELECTED',\n    TURN_DRAW: 'TURN_DRAW',\n    SET_ZOOM: 'SET_ZOOM',\n    SET_PROJECT_DETAILS: 'SET_PROJECT_DETAILS',\n    SET_UNDO: 'SET_UNDO',\n    SET_REDO: 'SET_REDO',\n    ADD_GRAPH_INSTANCE: 'ADD_GRAPH_INSTANCE',\n    ADD_GRAPH: 'ADD_GRAPH',\n    ADD_GRAPH_BULK: 'ADD_GRAPH_BULK',\n    CHANGE_TAB: 'CHANGE_TAB',\n    CHANGE_RESET: 'CHANGE_RESET',\n    REMOVE_GRAPH: 'REMOVE_GRAPH',\n    NEW_GRAPH: 'NEW_GRAPH',\n    SET_SHARE_MODAL: 'SET_SHARE_MODAL',\n    SET_SETTING_MODAL: 'SET_SETTING_MODAL',\n    SET_MARKDOWN_MODAL: 'SET_MARKDOWN_MODAL',\n    SET_CONTRIBUTE_MODAL: 'SET_CONTRIBUTE_MODAL',\n    SET_FILE_REF: 'SET_FILE_REF',\n    SET_HISTORY_MODAL: 'SET_HISTORY_MODAL',\n    SET_AUTHOR: 'SET_AUTHOR',\n    IS_WORKFLOW_ON_SERVER: 'IS_WORKFLOW_ON_SERVER',\n    SET_CUR_INSTANCE: 'SET_CUR_INSTANCE',\n    SET_CUR_INDEX: 'SET_CUR_INDEX',\n    SET_ZOOM_LEVEL: 'SET_ZOOM_LEVEL',\n    SET_EDIT_DETAILS_MODAL: 'SET_EDIT_DETAILS_MODAL',\n    SET_NEW_GRAPH_MODAL: 'SET_NEW_GRAPH_MODAL',\n    SET_OPTIONS_MODAL: 'SET_OPTIONS_MODAL',\n    EDIT_TEXTFILE: 'EDIT_TEXTFILE',\n    SET_FILE_HANDLE: 'SET_FILE_HANDLE',\n    SET_DIR_NAME: 'SET_DIR_NAME',\n    SET_FILE_STATE: 'SET_FILE_STATE',\n    SET_INPUT_FILE: 'SET_INPUT_FILE',\n    SET_OPTIONS: 'SET_OPTIONS',\n    SET_FUNCTIONS: 'SET_FUNCTIONS',\n    SET_LOGS: 'SET_LOGS',\n    SET_LOGS_MESSAGE: 'SET_LOGS_MESSAGE',\n};\n\nexport default zealit(actionType);\n","import React, {\n    useCallback, useEffect, useState, createRef,\n} from 'react';\nimport './nodeDetails.css';\n// import ColorBox from './ColorBox';\nimport localStorageManager from '../../graph-builder/local-storage-manager';\n\nconst NodeDetails = ({\n    data, setData, submit, labelAllowed, state,\n}) => {\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    const textRef = createRef();\n    const [widthSet] = useState(false);\n    const [mdList, setMdList] = useState([]);\n    const [mdCont, setMdCont] = useState(new Map(''));\n    const [labelName, setLabelName] = useState('');\n    const [labelFile, setLabelFile] = useState('');\n    const indexOfFile = [];\n    indexOfFile.push(0);\n\n    const setStyle = (prop) => {\n        setData({ ...data, style: { ...data.style, ...prop } });\n    };\n\n    useEffect(() => {\n        const list = mdList;\n        state.fileState.forEach((ele) => {\n            if (ele.key.toString().includes('.md')) {\n                list.push(ele);\n                setMdList(list);\n                let mdmap = new Map();\n                mdmap = mdCont;\n                const fr = new FileReader();\n                fr.onload = (x) => {\n                    const strCont = '   DESC: ';\n                    mdmap.set(ele, strCont.concat(x.target.result.slice(0, 50).replace('#', '')));\n                    setMdCont(mdmap);\n                };\n                fr.readAsText(ele.fileObj);\n            }\n        });\n    }, [state.fileState]);\n\n    useEffect(() => {\n        if (!widthSet) {\n            setStyle({\n                width: Math.max(data.style.width, Math.min(500, textRef.current.offsetWidth + 20)),\n            });\n        }\n    }, [!widthSet && data.label]);\n\n    useEffect(() => {\n        setLabelName(data.label.split(':')[0]);\n    }, [data.label]);\n\n    return (\n        <div className=\"nodeform\" onSubmit={submit}>\n            <div className=\"parent-div\" style={{ height: data.style.height }}>\n                <div\n                    className=\"node-div\"\n                    style={{\n                        ...data.style,\n                        borderRadius: data.style.shape === 'ellipse' ? '100%' : 0,\n                    }}\n                >\n                    <span ref={textRef}>{labelAllowed ? data.label : ''}</span>\n\n                </div>\n            </div>\n            <div className=\"form\" style={{ padding: 20 }}>\n                {/* <div> Shape</div>\n                <div>\n                    <label htmlFor=\"rectangle\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"rectangle\"\n                            checked={data.style.shape === 'rectangle'}\n                            onChange={() => setStyle({ shape: 'rectangle' })}\n                        />\n                        Rectangle\n                    </label>\n                </div>\n                <div>\n                    <label htmlFor=\"ellipse\">\n                        <input\n                            type=\"radio\"\n                            name=\"shape\"\n                            value=\"ellipse\"\n                            checked={data.style.shape === 'ellipse'}\n                            onChange={() => setStyle({ shape: 'ellipse' })}\n                        />\n                        Ellipse\n                    </label>\n                </div>\n                <div /> */}\n\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <>\n                        <input\n                            className=\"nodeLabel\"\n                            ref={inputRef}\n                            type=\"text\"\n                            required\n                            label=\"Node Label\"\n                            placeholder=\"Enter Node Label\"\n                            value={data.label.split(':')[0]}\n                            onChange={(e) => {\n                                if (e.target.value.slice(-1) !== ':') {\n                                    setLabelName(`${e.target.value}:`);\n                                    setData({ ...data, label: `${e.target.value}:${labelFile}` });\n                                } else {\n                                    setLabelName(e.target.value);\n                                    setData({ ...data, label: e.target.value + labelFile });\n                                }\n                            }}\n                        />\n\n                        <input\n                            className=\"nodeLabelFile\"\n                            type=\"text\"\n                            label=\"Node Label file\"\n                            placeholder=\"Select file\"\n                            value={data.label.split(':')[1]}\n                            onChange={(e) => {\n                                setLabelFile(e.target.value.split('/').pop().split('   DESC: ')[0]);\n                                if (labelName) {\n                                    let lname = labelName;\n                                    if (labelName.slice(-1) !== ':') {\n                                        setLabelName(`${labelName}:`);\n                                        lname += ':';\n                                    }\n                                    setData({\n                                        ...data,\n                                        // eslint-disable-next-line max-len\n                                        label: lname + e.target.value.split('/').pop().split('   DESC: ')[0],\n                                    });\n                                } else {\n                                    setData({\n                                        ...data,\n                                        // eslint-disable-next-line max-len\n                                        label: `:${e.target.value.split('/').pop().split('   DESC: ')[0]}`,\n                                    });\n                                }\n                            }}\n                            list=\"files\"\n                        />\n                        <datalist id=\"files\">\n                            {\n                                localStorageManager.getFileList()\n                                    // eslint-disable-next-line max-len, prefer-arrow-callback\n                                    ? state.fileState\n                                        .map((item) => {\n                                            const list = [];\n                                            const acceptedTypes = ['.v', '.c', '.cpp', '.py', '.m', '.sh'];\n                                            let index;\n                                            if (item.key.toString().includes('.md')) {\n                                                return null;\n                                            }\n                                            if (item.key.toString().split('/').length > 2) {\n                                                return null;\n                                            }\n                                            // eslint-disable-next-line max-len\n                                            if ((acceptedTypes.some((substring) => item.key.toString().includes(substring)))) {\n                                                const fileName = item.key.toString().split('.')[0].concat('.md');\n                                                // eslint-disable-next-line max-len\n                                                const matchingFile = mdList.find((ele) => ele.key.toString() === fileName);\n                                                if (mdCont.get(matchingFile)) {\n                                                    list.push(item.key.toString().concat(mdCont.get(matchingFile)));\n                                                } else {\n                                                    list.push(item.key.toString());\n                                                }\n                                                indexOfFile.push(indexOfFile[indexOfFile.length - 1] + 1);\n                                                index = indexOfFile[indexOfFile.length - 1] + 1;\n                                                /* eslint-disable */\n                                                return (\n                                                    <>\n                                                        <label htmlFor=\"dropdown\">\n                                                            <option value={list} key={index} />\n                                                        </label>\n                                                    </>\n                                                );\n                                                /* eslint-enable */\n                                            }\n                                            return null;\n                                        })\n                                    : ''\n                            }\n                        </datalist>\n                    </>\n                ) : ''}\n                {/* <div> Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.width}\n                    onChange={(e) => {\n                        setWidthSet(true);\n                        setStyle({\n                            width: Math.min(500, e.target.value),\n                        });\n                    }}\n                /> */}\n\n                {/* <div> Height</div>\n                <input\n                    type=\"number\"\n                    value={data.style.height}\n                    onChange={(e) => setStyle({ height: Math.min(200, e.target.value) })}\n                /> */}\n\n                {/* <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"light\"\n                /> */}\n\n                {/* <div> Border Color</div>\n                <ColorBox\n                    color={data.style.borderColor}\n                    setColor={(color) => setStyle({ borderColor: color })}\n                    type=\"dark\"\n                /> */}\n\n                {/* <div> Border Width</div>\n                <input\n                    type=\"number\"\n                    value={data.style.borderWidth}\n                    onChange={(e) => setStyle({ borderWidth: Math.min(30, e.target.value) })}\n                /> */}\n                {/* <div> Opacity</div>\n                <input\n                    type=\"number\"\n                    step=\".01\"\n                    value={data.style.opacity}\n                    onChange={(e) => setStyle({ opacity: Math.min(1, Math.max(0, e.target.value)) })}\n                /> */}\n            </div>\n        </div>\n    );\n};\n\nexport default NodeDetails;\n","import React, { useCallback } from 'react';\n// import ColorBox from './ColorBox';\nimport './edgeDetails.css';\n\nconst Triangle = ({ size, color }) => {\n    const s = parseInt(size, 10) * 5;\n    const EqTriangle = {\n        borderLeft: `${0.8666 * s}px solid ${color}`,\n        borderBottom: `${s / 2}px solid transparent`,\n        borderTop: `${s / 2}px solid transparent`,\n        marginLeft: -1,\n    };\n    return (\n        <div style={EqTriangle} />\n    );\n};\n\nconst EdgeDetails = ({\n    data, setData, submit, labelAllowed,\n}) => {\n    // const setStyle = (prop) => setData({ ...data, style: { ...data.style, ...prop } });\n    const inputRef = useCallback((node) => node && node.focus(), []);\n    // const RadioBtn = ({ name, shape }) => (\n    //     <label htmlFor=\"ellipse\">\n    //         <input\n    //             type=\"radio\"\n    //             name=\"shape\"\n    //             value={shape}\n    //             checked={data.style.shape === shape}\n    //             onChange={() => setStyle({ shape })}\n    //         />\n    //         {name}\n    //     </label>\n    // );\n\n    return (\n        <div className=\"edgeform\" onSubmit={submit}>\n            <div className=\"par-div\">\n                <div\n                    className=\"edge-div\"\n                    style={{\n                        borderBottomWidth: data.style.thickness,\n                        borderBottomColor: data.style.backgroundColor,\n                        borderBottomStyle: data.style.shape,\n                    }}\n                />\n                <Triangle size={data.style.thickness} color={data.style.backgroundColor} />\n                <div className=\"label\">{data.label}</div>\n            </div>\n            <div className=\"form\">\n                {labelAllowed ? <div> Label</div> : ''}\n                {labelAllowed ? (\n                    <input\n                        ref={inputRef}\n                        className=\"span-rest edgeLabel\"\n                        type=\"text\"\n                        required\n                        label=\"Edge Label\"\n                        value={data.label}\n                        placeholder=\"Enter Edge Label\"\n                        onChange={(e) => setData({ ...data, label: `${e.target.value}` })}\n                    />\n                ) : ''}\n                {/* <div> Shape</div>\n                <div className=\"span-rest hascheckbox\">\n                    <div><RadioBtn name=\"Solid\" shape=\"solid\" /></div>\n                    <div><RadioBtn name=\"Dotted\" shape=\"dotted\" /></div>\n                    <div><RadioBtn name=\"Dashed\" shape=\"dashed\" /></div>\n                </div>\n                <div> Thickness</div>\n                <input\n                    type=\"number\"\n                    value={data.style.thickness}\n                    onChange={(e) => setStyle({ thickness: Math.max(0, Math.min(20, e.target.value)) })}\n                />\n                <div> Background Color</div>\n                <ColorBox\n                    color={data.style.backgroundColor}\n                    setColor={(color) => setStyle({ backgroundColor: color })}\n                    type=\"dark\"\n                /> */}\n            </div>\n        </div>\n    );\n};\n\nexport default EdgeDetails;\n","const NodeStyle = {\n    width: 100,\n    height: 50,\n    shape: 'rectangle',\n    opacity: 1,\n    backgroundColor: '#ffcc00',\n    borderColor: '#000',\n    borderWidth: 1,\n};\n\nconst EdgeStyle = {\n    thickness: 1,\n    backgroundColor: null,\n    shape: 'solid',\n};\n\nexport { NodeStyle, EdgeStyle };\n","const initialState = {\n    ModelOpen: false,\n    modalPayload: {\n        cb: () => {},\n        title: '',\n        submitText: '',\n        Children: '',\n        defaultStyle: {},\n        defaultLabel: '',\n        labelAllowed: null,\n    },\n    shareModal: false,\n    settingsModal: false,\n    editDetailsModal: false,\n    newGraphModal: false,\n    optionsModal: false,\n    markDownModal: false,\n    contributeModal: false,\n    eleSelected: false,\n    drawModeOn: true,\n    undoEnabled: false,\n    redoEnabled: false,\n    graphs: [],\n    curGraphIndex: -1,\n    viewHistory: false,\n    isWorkflowOnServer: false,\n    curGraphInstance: null,\n    zoomLevel: 100,\n    uploadedDirName: null,\n    resetEnabled: false,\n    fileState: [],\n    inputFile: '',\n    params: '',\n    maxTime: '',\n    library: '',\n    dockerCheck: false,\n    unlockCheck: false,\n    octave: false,\n    logs: false,\n    logsmessage: '',\n};\n\nconst initialGraphState = {\n    projectName: '',\n    graphID: null,\n    serverID: null,\n    graphML: null,\n    authorName: '',\n    component: null,\n    instance: null,\n    id: null,\n    fileHandle: null,\n    fileName: null,\n    built: true,\n    debugged: false,\n    ran: false,\n    destroyed: false,\n    cleared: false,\n    stopped: false,\n};\n\nexport { initialState, initialGraphState };\n","import T from './actionType';\nimport NodeDetails from '../component/modals/NodeDetails';\nimport EdgeDetails from '../component/modals/EdgeDetails';\nimport { NodeStyle, EdgeStyle } from '../config/defaultStyles';\nimport { initialGraphState } from './initialState';\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n    case T.Model_Open_Create_Node:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Node',\n                submitText: 'Create Node',\n                type: 'Node',\n                Children: NodeDetails,\n                defaultStyle: NodeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Create_Edge:\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Create Edge',\n                submitText: 'Create Edge',\n                Children: EdgeDetails,\n                defaultStyle: EdgeStyle,\n                defaultLabel: '',\n                labelAllowed: true,\n                cb: action.cb,\n            },\n        };\n    case T.Model_Open_Update_Node: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Node',\n                submitText: 'Edit Node',\n                type: 'Node',\n                Children: NodeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.Model_Open_Update_Edge: {\n        return {\n            ...state,\n            ModelOpen: true,\n            modalPayload: {\n                title: 'Edit Edge',\n                submitText: 'Edit Edge',\n                Children: EdgeDetails,\n                defaultStyle: action.style,\n                defaultLabel: action.label,\n                labelAllowed: action.labelAllowed,\n                cb: action.cb,\n            },\n        };\n    }\n    case T.SET_CONTRIBUTE_MODAL: {\n        return { ...state, contributeModal: action.payload };\n    }\n    case T.Model_Close: return { ...state, ModelOpen: false };\n    case T.ELE_SELECTED: return { ...state, eleSelected: true, eleSelectedPayload: action.payload };\n    case T.ELE_UNSELECTED: return { ...state, eleSelected: false };\n    case T.TURN_DRAW: return { ...state, drawModeOn: action.payload };\n\n    case T.SET_UNDO: return { ...state, undoEnabled: action.payload };\n    case T.SET_REDO: return { ...state, redoEnabled: action.payload };\n\n    case T.ADD_GRAPH: {\n        let foundi = -1;\n        const graphID = action.payload.graphID || new Date().getTime().toString();\n        state.graphs.forEach((g, i) => {\n            if ((g.graphID && g.graphID === graphID) || (g.serverID && g.serverID === action.payload.serverID)) {\n                foundi = i;\n            }\n        });\n        if (foundi !== -1) {\n            return { ...state, newGraphModal: false, curGraphIndex: foundi };\n        }\n        return {\n            ...state,\n            newGraphModal: false,\n            curGraphIndex: state.graphs.length,\n            graphs: [\n                ...state.graphs,\n                {\n                    ...initialGraphState,\n                    projectName: action.payload.projectName,\n                    graphID,\n                    serverID: action.payload.serverID,\n                    graphML: action.payload.graphML,\n                    fileHandle: action.payload.fileHandle || null,\n                    fileName: action.payload.fileName,\n                    authorName: action.payload.authorName || '',\n                },\n            ],\n        };\n    }\n    case T.ADD_GRAPH_BULK: {\n        return { ...state, graphs: [...state.graphs, ...action.payload] };\n    }\n    case T.SET_CUR_INSTANCE: {\n        return { ...state, curGraphInstance: action.payload };\n    }\n    case T.SET_CUR_INDEX: {\n        return { ...state, curGraphIndex: action.payload };\n    }\n    case T.CHANGE_TAB: return { ...state, curGraphIndex: action.payload };\n\n    case T.NEW_GRAPH: return { ...state, newGraphModal: true };\n    case T.REMOVE_GRAPH: return {\n        ...state,\n        graphs: state.graphs.filter((e, i) => i !== action.payload),\n        curGraphIndex: state.curGraphIndex < action.payload\n            ? state.curGraphIndex\n            : Math.max(0, state.curGraphIndex - 1),\n    };\n\n    case T.SET_PROJECT_DETAILS: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => (\n            g.graphID === action.payload.graphID ? { ...g, [action.payload.type]: action.payload.value }\n                : g\n        ));\n        return { ...newState };\n    }\n\n    case T.SET_SHARE_MODAL: {\n        return { ...state, shareModal: action.payload };\n    }\n\n    case T.SET_OPTIONS_MODAL: {\n        return { ...state, optionsModal: action.payload };\n    }\n\n    case T.SET_FILE_STATE: {\n        return { ...state, fileState: action.payload };\n    }\n\n    case T.SET_SETTING_MODAL: {\n        return { ...state, settingsModal: action.payload };\n    }\n\n    case T.SET_MARKDOWN_MODAL: {\n        return { ...state, markDownModal: action.payload };\n    }\n\n    case T.SET_INPUT_FILE: {\n        return { ...state, inputFile: action.payload.content, inputFileName: action.payload.fname };\n    }\n\n    case T.SET_FILE_REF: {\n        return { ...state, fileRef: action.payload };\n    }\n\n    case T.SET_OPTIONS: {\n        return {\n            ...state,\n            dockerCheck: action.payload.docker,\n            unlockCheck: action.payload.unlock,\n            params: action.payload.param,\n            maxTime: action.payload.maxT,\n            octave: action.payload.octave,\n            library: action.payload.library,\n        };\n    }\n\n    case T.SET_FILE_HANDLE: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g, index) => (\n            index === action.payload.curGraphIndex ? { ...g, fileHandle: action.payload.fileHandle }\n                : g\n        ));\n        return { ...newState };\n    }\n\n    case T.SET_HISTORY_MODAL: {\n        return { ...state, viewHistory: action.payload };\n    }\n\n    case T.SET_AUTHOR: {\n        const newState = { ...state };\n        newState.graphs = newState.graphs.map((g) => (\n            g.graphID === action.payload.graphID ? { ...g, [action.payload.type]: action.payload.value } : g\n        ));\n        return { ...newState };\n    }\n\n    case T.IS_WORKFLOW_ON_SERVER: {\n        return { ...state, isWorkflowOnServer: action.payload };\n    }\n    case T.SET_ZOOM_LEVEL: {\n        return { ...state, zoomLevel: action.payload };\n    }\n    case T.SET_EDIT_DETAILS_MODAL: {\n        return { ...state, editDetailsModal: action.payload };\n    }\n    case T.SET_NEW_GRAPH_MODAL: {\n        return { ...state, newGraphModal: action.payload };\n    }\n    case T.CHANGE_RESET: {\n        return { ...state, resetEnabled: action.payload };\n    }\n    case T.SET_LOGS_MESSAGE: {\n        return { ...state, logsmessage: action.payload };\n    }\n    case T.SET_LOGS: {\n        return { ...state, logs: action.payload };\n    }\n\n    case T.EDIT_TEXTFILE: {\n        return {\n            ...state,\n            textFileModal: action.payload.show,\n            fileObj: action.payload.fileObj,\n            fileHandle: action.payload.fileHandle,\n        };\n    }\n\n    case T.SET_DIR_NAME: {\n        return { ...state, uploadedDirName: action.payload };\n    }\n\n    case T.SET_FUNCTIONS: {\n        const newState = { ...state };\n        newState.graphs[state.curGraphIndex].built = action.payload.built;\n        newState.graphs[state.curGraphIndex].debugged = action.payload.debugged;\n        newState.graphs[state.curGraphIndex].ran = action.payload.ran;\n        newState.graphs[state.curGraphIndex].cleared = action.payload.cleared;\n        newState.graphs[state.curGraphIndex].destroyed = action.payload.destroyed;\n        newState.graphs[state.curGraphIndex].stopped = action.payload.stopped;\n        return { ...newState };\n    }\n\n    default:\n        return state;\n    }\n};\nexport default reducer;\n"],"sourceRoot":""}